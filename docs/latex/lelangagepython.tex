%% Generated by Sphinx.
\def\sphinxdocclass{article}
\documentclass[letterpaper,10pt,english]{sphinxhowto}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsable pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}
%% turn off hyperref patch of \index as sphinx.xdy xindy module takes care of
%% suitable \hyperpage mark-up, working around hyperref-xindy incompatibility
\PassOptionsToPackage{hyperindex=false}{hyperref}
%% memoir class requires extra handling
\makeatletter\@ifclassloaded{memoir}
{\ifdefined\memhyperindexfalse\memhyperindexfalse\fi}{}\makeatother

\PassOptionsToPackage{warn}{textcomp}

\catcode`^^^^00a0\active\protected\def^^^^00a0{\leavevmode\nobreak\ }
\usepackage{cmap}
\usepackage{fontspec}
\defaultfontfeatures[\rmfamily,\sffamily,\ttfamily]{}
\usepackage{amsmath,amssymb,amstext}
\usepackage{polyglossia}
\setmainlanguage{english}



\setmainfont{FreeSerif}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Italic,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldItalic
]
\setsansfont{FreeSans}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Oblique,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldOblique,
]
\setmonofont{FreeMono}[
  Extension      = .otf,
  UprightFont    = *,
  ItalicFont     = *Oblique,
  BoldFont       = *Bold,
  BoldItalicFont = *BoldOblique,
]



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}


\usepackage{sphinxmessages}
\setcounter{tocdepth}{2}



\title{Le langage Python}
\date{May 22, 2024}
\release{}
\author{Pierre Cladé}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}

\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\section{Feuilles de cours}
\label{\detokenize{feuilles_de_cours:feuilles-de-cours}}\label{\detokenize{feuilles_de_cours::doc}}

\subsection{Les fonctions}
\label{\detokenize{cours1_fonctions_cours:les-fonctions}}\label{\detokenize{cours1_fonctions_cours::doc}}
\sphinxAtStartPar
Les fonctions sont des sous\sphinxhyphen{}programme que l’on peut exécuter. Elles sont en particulier utilisées pour effectuer des tâches répétitives.


\subsubsection{Utiliser les fonctions}
\label{\detokenize{cours1_fonctions_cours:utiliser-les-fonctions}}
\sphinxAtStartPar
Il existe un grand nombre de fonctions déjà définies en Python. Certaines sont des fonctions natives, disponibles directement en Python (par exemple la fonction \sphinxcode{\sphinxupquote{print}}). D’autres sont dans une librairie, par exemples, les fonctions mathématiques sont dans la librairie \sphinxcode{\sphinxupquote{math}}.

\sphinxAtStartPar
Pour exécuter une fonction (on utilise aussi le mot appeler \sphinxhyphen{} call en anglais), il faut faire suivre le nom de la fonction par des parenthèses avec à l’intérieur les arguments séparés par des virgules.

\sphinxAtStartPar
Une fonction peut avoir zero argument, un ou plusieurs. Le nombre d’arguments n’est pas forcement fixé à l’avance.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{list}\PYG{p}{(}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Fonction sans arguments}

\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{cos} \PYG{c+c1}{\PYGZsh{} on importe la fonction cosinus}
\PYG{n}{cos}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Cette fonction possède un seul argument}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} La fonction print peut avoir autant d\PYGZsq{}argument qu\PYGZsq{}on le souhaite}
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsqu’une fonction possède plusieurs arguments, il est important de respecter l’ordre. Lorsque l’on ne connait pas cet ordre, il faut regarder la documentation, ce qui peut se faire avec la commande \sphinxcode{\sphinxupquote{nom\_de\_la\_fonction?}} ou \sphinxcode{\sphinxupquote{help(nom\_de\_la\_fonction)}}.

\sphinxAtStartPar
Regardons par exemple la fonction date du module datetime. Cette fonction permet de manipuler des dates avec Python.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{datetime} \PYG{k+kn}{import} \PYG{n}{date}
\PYG{c+c1}{\PYGZsh{}date?}
\end{sphinxVerbatim}

\sphinxAtStartPar
La documentation nous donne ;

\begin{sphinxVerbatim}[commandchars=\\\{\}]
date(year, month, day)
\end{sphinxVerbatim}

\sphinxAtStartPar
Cette fonction nécéssite donc 3 arguments (l’année, le mois et le jour).

\sphinxAtStartPar
On peut l’utiliser de la façon suivante :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{bataille\PYGZus{}marignan} \PYG{o}{=} \PYG{n}{date}\PYG{p}{(}\PYG{l+m+mi}{1515}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{,} \PYG{l+m+mi}{13}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{bataille\PYGZus{}marignan}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour lever l’ambiguité lorsqu’il y a plusieurs arguments, il est possible de nommer explicitement ceux\sphinxhyphen{}ci

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{bataille\PYGZus{}marignan} \PYG{o}{=} \PYG{n}{date}\PYG{p}{(}\PYG{n}{year}\PYG{o}{=}\PYG{l+m+mi}{1515}\PYG{p}{,} \PYG{n}{month}\PYG{o}{=}\PYG{l+m+mi}{9}\PYG{p}{,} \PYG{n}{day}\PYG{o}{=}\PYG{l+m+mi}{13}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsque les arguments sont nommés, l’ordre n’a plus d’importance.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{assert} \PYG{n}{date}\PYG{p}{(}\PYG{n}{year}\PYG{o}{=}\PYG{l+m+mi}{1515}\PYG{p}{,} \PYG{n}{month}\PYG{o}{=}\PYG{l+m+mi}{9}\PYG{p}{,} \PYG{n}{day}\PYG{o}{=}\PYG{l+m+mi}{13}\PYG{p}{)}\PYG{o}{==}\PYG{n}{date}\PYG{p}{(}\PYG{n}{day}\PYG{o}{=}\PYG{l+m+mi}{13}\PYG{p}{,} \PYG{n}{month}\PYG{o}{=}\PYG{l+m+mi}{9}\PYG{p}{,} \PYG{n}{year}\PYG{o}{=}\PYG{l+m+mi}{1515}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Attention, Python ne peut pas deviner ne nom de l’argument à partir du nom de la variable. Ceci ne fonctionnera pas :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{year}\PYG{o}{=}\PYG{l+m+mi}{1515}
\PYG{n}{month}\PYG{o}{=}\PYG{l+m+mi}{9}
\PYG{n}{day}\PYG{o}{=}\PYG{l+m+mi}{13}

\PYG{n}{date}\PYG{p}{(}\PYG{n}{day}\PYG{p}{,} \PYG{n}{month}\PYG{p}{,} \PYG{n}{year}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsqu’une fonction contient beaucoup d’arguments, il peut être utile de regrouper les variables dans une seule variable. Il peut s’agir soit d’une liste ou d’un n\sphinxhyphen{}uplet (tuple) auquel cas l’ordre sera important, soit d’un dictionnaire, auquel cas, les clés doivent correspondre aux noms des variables. Pour une liste on précéde l’objet d’une \sphinxcode{\sphinxupquote{*}} pour un dictionnaire de \sphinxcode{\sphinxupquote{**}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{date\PYGZus{}tpl} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{1515}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{,} \PYG{l+m+mi}{13}\PYG{p}{)}
\PYG{n}{date\PYGZus{}dct} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{year}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1515}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{month}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mi}{9}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{day}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{13}\PYG{p}{\PYGZcb{}}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date}\PYG{p}{(}\PYG{o}{*}\PYG{n}{date\PYGZus{}tpl}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{date\PYGZus{}dct}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Création d’une fonction}
\label{\detokenize{cours1_fonctions_cours:creation-d-une-fonction}}

\paragraph{Principe général}
\label{\detokenize{cours1_fonctions_cours:principe-general}}
\sphinxAtStartPar
Le mot clé \sphinxcode{\sphinxupquote{def}} est utilisé pour créer une fonction. Il doit être suivit du nom de la fonction, des arguments placés entre parenthèse. Comme toute instruction qui sera suivi d’un bloc d’instruction, il faut terminer la ligne par un \sphinxcode{\sphinxupquote{:}}. Le bloc d’instruction sera alors indenté.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Fonction sans argument}
\PYG{k}{def} \PYG{n+nf}{affiche\PYGZus{}bonjour}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour tout le monde}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello World!}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    
\PYG{n}{affiche\PYGZus{}bonjour}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour renvoyer une valeur, il faut utiliser l’instruction \sphinxcode{\sphinxupquote{return}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{pi}

\PYG{k}{def} \PYG{n+nf}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{(}\PYG{n}{r}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{r}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}

\PYG{n}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Python quitte la fonction imédiatement après le return. Il peut y avoir plusieurs return dans une fonction. Python quitte la fonction après le premier return executé. Si il arrive à la fin de la fonction, alors il y a un return implicite. La valeur renvoyée est \sphinxcode{\sphinxupquote{None}}.

\sphinxAtStartPar
Dans cet exemple, le \sphinxcode{\sphinxupquote{print('B')}} ne sera jamais executé

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{A}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{k}{return}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{B}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    
\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{a} \PYG{o}{=} \PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}
    \PYG{c+c1}{\PYGZsh{} Il n\PYGZsq{}y a pas de return. Cette fonction ne sert donc à rien}
    
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sin}\PYG{p}{,} \PYG{n}{cos}\PYG{p}{,} \PYG{n}{tan}

\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{case}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{case}\PYG{o}{==}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{A}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{case}\PYG{o}{==}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{B}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{cos}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{case}\PYG{o}{==}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{tan}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Une fonction peut renvoyer plusieurs valeurs. Pour cela on les sépare par des virgules. On peut récupérer les valeurs en séparant les variables par des virgules à gauche du signe \sphinxcode{\sphinxupquote{=}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{cos}\PYG{p}{,} \PYG{n}{sin}

\PYG{k}{def} \PYG{n+nf}{coordonnees}\PYG{p}{(}\PYG{n}{r}\PYG{p}{,} \PYG{n}{theta}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{r}\PYG{o}{*}\PYG{n}{cos}\PYG{p}{(}\PYG{n}{theta}\PYG{p}{)}\PYG{p}{,} \PYG{n}{r}\PYG{o}{*}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{theta}\PYG{p}{)}

\PYG{n}{x}\PYG{p}{,} \PYG{n}{y} \PYG{o}{=} \PYG{n}{coordonnees}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{Chaîne de documentation}
\label{\detokenize{cours1_fonctions_cours:chaine-de-documentation}}
\sphinxAtStartPar
Si la première ligne du bloc d’instruction d’une fonction est une chaîne de caractère litérale, alors cette chaîne sera la chaîne de documentation de la fonction. Cette chaîne correspond à la description de la fonction.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{(}\PYG{n}{r}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Calcule la surface d}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{un disque de rayon r}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{r}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}

\PYG{n}{help}\PYG{p}{(}\PYG{n}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsque la chaîne de caractère prend plusieurs lignes (ce qui est en générale le cas…), alors il est préférable d’utiliser une chaîne avec triple guillemets.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{(}\PYG{n}{r}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}Calcule la surface d\PYGZsq{}un disque}
\PYG{l+s+sd}{    }
\PYG{l+s+sd}{    Utilise simplement la formule \PYGZdl{}\PYGZbs{}pi r\PYGZca{}2\PYGZdl{}}
\PYG{l+s+sd}{    }
\PYG{l+s+sd}{    Arguments :}
\PYG{l+s+sd}{        r (float) : rayon du disque}
\PYG{l+s+sd}{        }
\PYG{l+s+sd}{    Renvoie : }
\PYG{l+s+sd}{        float : le surface du disque}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{r}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}

\PYG{n}{help}\PYG{p}{(}\PYG{n}{surface\PYGZus{}d\PYGZus{}un\PYGZus{}disque}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
La chaîne de documentation est différente des commentaires (\sphinxcode{\sphinxupquote{\#}}): ces derniers ne sont pas disponibles aux utilsateurs, mais seulement à celui qui lira et voudra comprendre le code.


\paragraph{Variables locales}
\label{\detokenize{cours1_fonctions_cours:variables-locales}}
\sphinxAtStartPar
Une variable est locale lorsqu’elle n’est définie que à l’intérieur d’une fonction. Une variable est globale lorsque sa definition est à l’extérieure de la fonction. Il n’y a pas d’interaction entre une variable locale et une variable portant le même nom à l’extérieur de la fonction

\sphinxAtStartPar
Toutes les variables qui sont affectées dans la fonction (i.e. pour lesquels on a une ligne \sphinxcode{\sphinxupquote{variable=...}}) ainsi que les arguments de la fonction sont des variables locales.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:} \PYG{c+c1}{\PYGZsh{} x est une variable globale}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
    
\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:} \PYG{c+c1}{\PYGZsh{} x est une variable locale}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{3}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
    
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
La valeur prise par une variable globale est la valeur au moment de l’exection de la fonction et non au moment de la définition de la fonction

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}\PYGZsh{}\PYGZsh{}\PYGZsh{} NE FONCTIONNE PAS \PYGZsh{}\PYGZsh{}\PYGZsh{}}
\PYG{n}{coef} \PYG{o}{=} \PYG{l+m+mi}{2}
\PYG{k}{def} \PYG{n+nf}{double}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{coef}\PYG{o}{*}\PYG{n}{x}

\PYG{n}{coef} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{k}{def} \PYG{n+nf}{triple}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{coef}\PYG{o}{*}\PYG{n}{x}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{double}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{triple}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
9
9
\end{sphinxVerbatim}


\paragraph{Arguments optionels}
\label{\detokenize{cours1_fonctions_cours:arguments-optionels}}
\sphinxAtStartPar
Il est possible de donner une valeur par défaut à un argument. Celui\sphinxhyphen{}ci sera alors optionnel. Cela se fait avec la syntaxe \sphinxcode{\sphinxupquote{def f(.., arg=default\_value)}}. Les arguments optionels doivent être définis à la fin de la liste des arguments.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{*}\PYG{n}{b}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}

\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{b}\PYG{o}{=}\PYG{l+m+mi}{4}\PYG{p}{,} \PYG{n}{a}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{Fonction avec un nombre arbitraire d’arguments}
\label{\detokenize{cours1_fonctions_cours:fonction-avec-un-nombre-arbitraire-d-arguments}}
\sphinxAtStartPar
Il est possible de définir une fonction avec un nombre arbitraire d’arguments en utilisant la syntaxe \sphinxcode{\sphinxupquote{*arg}}. Dans ce cas, la variable arg sera un n\sphinxhyphen{}uplet (tuple) qui contiendra tous les arguments suplémentaires.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{mafonction}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{a = }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b = }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{args =}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{args}\PYG{p}{)}
    
\PYG{n}{mafonction}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est aussi possible de définir une fonction avec un nombre arbitraire d’arguments nommés. Dans ce cas, il faut utiliser la syntaxe \sphinxcode{\sphinxupquote{**kwd}}. La variable \sphinxcode{\sphinxupquote{kwd}} est alors un dictionnaire dont les clés sont les noms des variables.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{mafonction}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{a = }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b = }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{kwd = }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{kwd}\PYG{p}{)}
    
\PYG{c+c1}{\PYGZsh{} mafonction(1, 2, 3, 4) \PYGZsh{} erreur}
\PYG{n}{mafonction}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{alpha}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{beta}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Les nombres}
\label{\detokenize{cours2_nombres_cours:les-nombres}}\label{\detokenize{cours2_nombres_cours::doc}}

\subsubsection{Les entiers}
\label{\detokenize{cours2_nombres_cours:les-entiers}}
\sphinxAtStartPar
Type \sphinxcode{\sphinxupquote{int}} en Python.

\sphinxAtStartPar
Il existe plusieurs façons d’entrer un entier sous forme litérale

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{5} \PYG{c+c1}{\PYGZsh{} Décimal}
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mb}{0b1001} \PYG{c+c1}{\PYGZsh{} binaire}
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mh}{0x23} \PYG{c+c1}{\PYGZsh{} hexadécimal}
\end{sphinxVerbatim}

\sphinxAtStartPar
En Python la taille des entiers est illimitée. Par exemple:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
515377520732011331036461129765621272702107522001
\end{sphinxVerbatim}

\sphinxAtStartPar
Attention, ce n’est plus le cas lorsque l’on utilise des librairies de calcul numérique (comme numpy ou pandas). Dans ce cas, les nombres sont enregistrés sous une taille finie. Par défaut, il s’agit de nombre enregistré avec 64 bits, en tenant compte du signe, les entiers sont alors compris entre \(-2^63\) et \(2^63\) (exclu)

\sphinxAtStartPar
Attention, lorsqu’il y a un débordement (overflow), il n’y a pas d’erreur et le comportement est inattendu.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}

\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{a}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{100}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
array([\PYGZhy{}2984622845537545263])
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsqu’un nombre est enregistré sous un format de taille finie, il faut s’imaginer qu’il fonctionne comme une calculatrice dont ont aurait caché les premiers chiffres. Nous allons raisonner en décimal, mais dans la réalité ce sont des bits qui sont manipulés.

\sphinxAtStartPar
Si on ne regarde que les trois derniers chiffres (resp. 64 bits) alors les opérations sont faire modulo 1000 (resp. module \(2^64\)). Par exemple \(50 \times 50 = 2500 = 500\). C’est ce que l’on appel un débordement (overflow).

\sphinxAtStartPar
Les nombres négatifs sont enregistré en utilisant une astuce : regardons l’opération (modulo 1000) suivante : \(997 + 3 = 0\). Le nombre 997 est donc le nombre qui lorsqu’on lui rajoute 3 donne 0, c’est donc \(-3\). Cela explique pourquoi dans l’exemple précédent on obtient un nombre négatif.


\subsubsection{Les nombres à virgule flottante}
\label{\detokenize{cours2_nombres_cours:les-nombres-a-virgule-flottante}}
\sphinxAtStartPar
Type \sphinxcode{\sphinxupquote{float}}. Il existe plusieurs façon d’entrer un entier sous forme litérale : soit en mettant explicitement un \sphinxcode{\sphinxupquote{.}} décimal, soit en utilisant le \sphinxcode{\sphinxupquote{e}} de la notation scientifique

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mf}{1234.567}
\PYG{n}{c} \PYG{o}{=} \PYG{l+m+mf}{3e8} \PYG{c+c1}{\PYGZsh{} ou 3E8 soit 3 fois 10 à la puissance 8}
\end{sphinxVerbatim}

\sphinxAtStartPar
Attention, le comportement d’un nombre à virgule flottante est différent de celui d’un entier, même lorsqu’il représente un entier

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{b} \PYG{o}{=} \PYG{l+m+mf}{3.} 
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{100}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{b}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
515377520732011331036461129765621272702107522001
5.153775207320113e+47
\end{sphinxVerbatim}

\sphinxAtStartPar
Les nombres sont enregistrés en \sphinxhref{http://fr.wikipedia.org/wiki/IEEE\_754}{double précision}, sur 64 bits. Il sont enregistrés sous la forme \(s\times m \times 2^e\) où \(s\) est le signe (\(\pm 1\) sur un bit), \(m\) la mantisse, un nombre entre 0 et 1 sous la forme \(0.xxxxx\) avec en tout 52 bits, et \(e\) l’exposant, un nombre entier signé sur 11 bits (soit entre \sphinxhyphen{}1024 et 1023).

\sphinxAtStartPar
Attention, la précision des nombre à virgule flottante est limitée. Elle vaut \(2^{-52}\), soit environ \(10^{-16}\)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mf}{3.14}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a} \PYG{o}{==} \PYG{n}{a} \PYG{o}{+} \PYG{l+m+mf}{1E\PYGZhy{}15}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a} \PYG{o}{==} \PYG{n}{a} \PYG{o}{+} \PYG{l+m+mf}{1E\PYGZhy{}16}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
False
True
\end{sphinxVerbatim}


\subsubsection{Les nombres complexes}
\label{\detokenize{cours2_nombres_cours:les-nombres-complexes}}
\sphinxAtStartPar
Type \sphinxcode{\sphinxupquote{complex}}

\sphinxAtStartPar
Il sont toujours enregistrés sous la forme de deux nombres à virgules flottantes (partie réelle et partie imaginaire). Il faut utiliser le \sphinxcode{\sphinxupquote{J}} ou \sphinxcode{\sphinxupquote{j}} pour écrire un nombre complexe sous forme litérale

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{3}\PYG{n}{j}
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mf}{1.123}\PYG{n}{j}
\end{sphinxVerbatim}

\sphinxAtStartPar
Il faut forcement précéder le \sphinxcode{\sphinxupquote{j}} d’un nombre. Le symbole \sphinxcode{\sphinxupquote{j}} seul désignant une variable. Notons que si il est possible de placer des chiffres dans le nom d’un variable (par exemple \sphinxcode{\sphinxupquote{x1}}), il n’est pas possible de commencer une variable par un chiffre. Par exemple \sphinxcode{\sphinxupquote{j1}} pourra désigner une variable mais pas \sphinxcode{\sphinxupquote{1j}}.

\sphinxAtStartPar
On peut facilement accéder à la partie réelle et imaginaire des nombres complexe, ce sont des attributs du nombre

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{3}\PYG{n}{J}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{real}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{imag}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1.0
3.0
\end{sphinxVerbatim}


\subsubsection{Opérations sur le nombres}
\label{\detokenize{cours2_nombres_cours:operations-sur-le-nombres}}
\sphinxAtStartPar
Les opérations sur les nombres sont les suivantes :
\begin{itemize}
\item {} 
\sphinxAtStartPar
somme : \sphinxcode{\sphinxupquote{+}}

\item {} 
\sphinxAtStartPar
produit : \sphinxcode{\sphinxupquote{*}}

\item {} 
\sphinxAtStartPar
différence ou négation : \sphinxcode{\sphinxupquote{\sphinxhyphen{}}}

\item {} 
\sphinxAtStartPar
division : \sphinxcode{\sphinxupquote{/}}

\item {} 
\sphinxAtStartPar
division entière : \sphinxcode{\sphinxupquote{//}}

\item {} 
\sphinxAtStartPar
modulo (reste de la division euclidienne) : \sphinxcode{\sphinxupquote{\%}} (par exemple \sphinxcode{\sphinxupquote{7\%2}})

\item {} 
\sphinxAtStartPar
puissance : \sphinxcode{\sphinxupquote{**}} (par exemple \sphinxcode{\sphinxupquote{2**10}})

\end{itemize}


\subsubsection{Les booléens et comparaison}
\label{\detokenize{cours2_nombres_cours:les-booleens-et-comparaison}}
\sphinxAtStartPar
Il existe deux valeurs : \sphinxcode{\sphinxupquote{True}} et \sphinxcode{\sphinxupquote{False}} (attention à la casse).

\sphinxAtStartPar
Les comparaisons se font à l’aide des symboles \sphinxcode{\sphinxupquote{<}}, \sphinxcode{\sphinxupquote{<=}}, \sphinxcode{\sphinxupquote{==}}, \sphinxcode{\sphinxupquote{>}} et \sphinxcode{\sphinxupquote{>=}}. Pour savoir si deux valeurs sont différentes, on utilise \sphinxcode{\sphinxupquote{!=}}.

\sphinxAtStartPar
Les opérations sont par ordre de priorité : \sphinxcode{\sphinxupquote{not}}, \sphinxcode{\sphinxupquote{and}} et \sphinxcode{\sphinxupquote{or}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{k+kc}{False} \PYG{o+ow}{and} \PYG{k+kc}{False} \PYG{o+ow}{or} \PYG{k+kc}{True}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{k+kc}{False} \PYG{o+ow}{and} \PYG{p}{(}\PYG{k+kc}{False} \PYG{o+ow}{or} \PYG{k+kc}{True}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
True
False
\end{sphinxVerbatim}

\sphinxAtStartPar
Les opérations \sphinxcode{\sphinxupquote{and}} et \sphinxcode{\sphinxupquote{or}} effectuent en fait un test conditionnel. L’instruction \sphinxcode{\sphinxupquote{A and B}} est interprétée comme \sphinxcode{\sphinxupquote{B if not A else A}}, de même \sphinxcode{\sphinxupquote{A or B}} équivaut à \sphinxcode{\sphinxupquote{A if A else B}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sqrt}

\PYG{n}{x} \PYG{o}{=} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}
\PYG{c+c1}{\PYGZsh{}if sqrt(x)\PYGZgt{}.2:}
\PYG{c+c1}{\PYGZsh{}        print(\PYGZsq{}Hello\PYGZsq{})}

\PYG{k}{if} \PYG{n}{x}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{\PYGZgt{}}\PYG{o}{.}\PYG{l+m+mi}{2}\PYG{p}{:}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        
\PYG{k}{if} \PYG{p}{(}\PYG{n}{x}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{)} \PYG{o+ow}{and} \PYG{p}{(}\PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{\PYGZgt{}}\PYG{o}{.}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    
\end{sphinxVerbatim}

\begin{sphinxadmonition}{warning}{Warning:}
\sphinxAtStartPar
Les symboles \& et | sont des opérateurs binaires. Ils réalisent les opérations and et or sur les entiers bit par bit en binaire (par exemple 6 \& 5 donne 4). Il ne faut pas les utiliser pour les opérations sur des booléens. Ils ont aussi une priorité sur les comparaisons
\end{sphinxadmonition}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{}if (x\PYGZgt{}0) \PYGZam{} (sqrt(x)\PYGZgt{}0):}
\PYG{c+c1}{\PYGZsh{}    print(\PYGZsq{}Hello\PYGZsq{})}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{3}

\PYG{k}{if} \PYG{n}{x}\PYG{o}{==}\PYG{l+m+mi}{7} \PYG{o}{\PYGZam{}} \PYG{n}{x}\PYG{o}{==}\PYG{l+m+mi}{3}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    
\PYG{k}{if} \PYG{n}{x}\PYG{o}{==}\PYG{l+m+mi}{7} \PYG{o+ow}{and} \PYG{n}{x}\PYG{o}{==}\PYG{l+m+mi}{3}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Bonjour
\end{sphinxVerbatim}

\sphinxAtStartPar
Conclusion : il est préférable de toujours mettre des parenthèses….


\subsection{Les conteneurs en Python}
\label{\detokenize{cours3_conteneur_cours:les-conteneurs-en-python}}\label{\detokenize{cours3_conteneur_cours::doc}}

\subsubsection{Notions globales}
\label{\detokenize{cours3_conteneur_cours:notions-globales}}
\sphinxAtStartPar
On appelle conteneur (container) un objet ayant vocation à en contenir d’autres

\sphinxAtStartPar
Il existe plusieurs types de conteneurs :
\begin{itemize}
\item {} 
\sphinxAtStartPar
liste

\item {} 
\sphinxAtStartPar
dictionnaire

\item {} 
\sphinxAtStartPar
ensemble

\item {} 
\sphinxAtStartPar
n\sphinxhyphen{}uplet

\end{itemize}

\sphinxAtStartPar
Dans un certaine mesure, on peut aussi considérer les chaînes de caractères comme des conteneurs

\sphinxAtStartPar
Voici quelque exemples :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}} \PYG{c+c1}{\PYGZsh{} chaîne de caractère}
\PYG{n}{l} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{]} \PYG{c+c1}{\PYGZsh{} liste}
\PYG{n}{d} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{key1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{123.45}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}} \PYG{c+c1}{\PYGZsh{} Dictionnaire}
\PYG{n}{e} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{\PYGZcb{}} \PYG{c+c1}{\PYGZsh{} ensemble}
\PYG{n}{t} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} n\PYGZhy{}uplet / tuple}
\end{sphinxVerbatim}


\paragraph{L’opérateur in}
\label{\detokenize{cours3_conteneur_cours:l-operateur-in}}
\sphinxAtStartPar
Il permet de tester si un le conteneur contient un objet donné.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o+ow}{in} \PYG{n}{l}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{3} \PYG{o+ow}{in} \PYG{n}{d}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Pour les dictionnaires, c\PYGZsq{}est la clé}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{on}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o+ow}{in} \PYG{n}{s}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Pour les chaînes de caratères, n\PYGZsq{}importe quelle sous\PYGZhy{}chaîne}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
True
True
True
\end{sphinxVerbatim}


\paragraph{Longueur}
\label{\detokenize{cours3_conteneur_cours:longueur}}
\sphinxAtStartPar
Un autre point commun partagé par de nombreux conteneurs est qu’ils possèdent une taille. C’est\sphinxhyphen{}à\sphinxhyphen{}dire qu’ils contiennent un nombre fini et connu d’éléments, et peuvent être passés en paramètre à la fonction len.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{t}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
3
\end{sphinxVerbatim}


\paragraph{Objet subscriptables}
\label{\detokenize{cours3_conteneur_cours:objet-subscriptables}}
\sphinxAtStartPar
Cela désigne les objets sur lesquels l’opérateur {[}{]} peut être utilisé. L’ensemble des types cités sont subscriptables, à l’exception de l’ensemble (set), qui n’implémente pas l’opération {[}{]}

\sphinxAtStartPar
Parmis les objets subscriptables, on distingues ceux qui sont indexables par un entier et ceux qui sont sliceables.

\sphinxAtStartPar
Les dictionnaires ne sont pas indexables. Les liste et les chaînes de caractères sont indexable et sliceables.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{d}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{key1}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{l}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
123.45
bonjour
o
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour les objets indexables, on rappel que le premier élément est l’élément 0. Le dernier est dont n\sphinxhyphen{}1 ou n est la taille de l’objet.

\sphinxAtStartPar
Les slices permettent de récupérer une partie de l’objet initial.
La syntaxe est \sphinxcode{\sphinxupquote{{[}start:stop:step{]}}}. Si on omet step, alors le pas est de 1. Si on omet stop, alors il s’agit de n, si on omet start, il s’agit de 0.

\sphinxAtStartPar
La taille de l’objet renvoyé est (stop \sphinxhyphen{} start)//step .

\sphinxAtStartPar
ATTENTION : si on indexe avec {[}i:j{]}, alors le dernier élément est j\sphinxhyphen{}1

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{l}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{[}\PYG{p}{:}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
onj
[2]
Bnor
\end{sphinxVerbatim}

\sphinxAtStartPar
Les indices négatifs, sont pris modulo la taille du conteneur.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{l}\PYG{p}{[}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Tous les éléments sauf le dernier}
\end{sphinxVerbatim}


\paragraph{Conteneurs modifiables}
\label{\detokenize{cours3_conteneur_cours:conteneurs-modifiables}}
\sphinxAtStartPar
Les listes, les dictionnaires et les ensembles sont modifiables. Les n\sphinxhyphen{}uplet et les chaines de caratères ne le sont pas.

\sphinxAtStartPar
Par modifiable, on entent par exemple que l’on peut rajouter, suprimer ou remplacer un élément.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste1} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{liste1}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{liste1}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Salut}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{k}{del} \PYG{n}{liste1}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
\PYG{n}{liste1}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Coucou}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{liste1}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[\PYGZsq{}Salut\PYGZsq{}, \PYGZsq{}Coucou\PYGZsq{}]
\end{sphinxVerbatim}

\sphinxAtStartPar
Une liste, c’est comme un classeur, on peut rajouter ou suprimer des feuilles. Ce sera toujours le même classeur. Un objet non modifiable ne possède par la méthode append, insert. On ne peut pas faire objet{[}i{]} = qqc. C’est comme un livre, il n’est pas possible de le modifier. La seule chose que l’on peut faire, c’est imprimer un nouveau livre avec une modification.

\sphinxAtStartPar
Si vous acheter deux livres identiques, il seront toujours identiques. Si vous achetez deux classeurs identiques, leur contenu pourra être différent.

\sphinxAtStartPar
En Python, la plupart des objets sont modifiables. Les exceptions sont les nombres, les n\sphinxhyphen{}uplets et les chaines de caractères.

\sphinxAtStartPar
Attention : lorsque l’on passe un objet à une fonction, il n’est pas dupliqué. Si la fonction modifie l’objet, alors l’objet est modifié.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Dans cet exemple, il n\PYGZsq{}y a qu\PYGZsq{}une seule liste}
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{c}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{c}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}

\PYG{n}{a} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\PYG{n}{b} \PYG{o}{=} \PYG{n}{a}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{b}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[1, 2, 3]
\end{sphinxVerbatim}


\paragraph{Conteneurs iterables}
\label{\detokenize{cours3_conteneur_cours:conteneurs-iterables}}
\sphinxAtStartPar
C’est le cas des conteneurs que l’on peut utiliser dans un boucle for. Tous les conteneurs ci dessus sont iterables.
Dans la mesure du possible, il est important de faire la boucle for directement sur l’objet, plutôt que par exemple sur ses indices.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{lettre} \PYG{o+ow}{in} \PYG{n}{s}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{lettre}\PYG{p}{)}
    
\PYG{k}{for} \PYG{n}{item} \PYG{o+ow}{in} \PYG{n}{l}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{item}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
B
o
n
j
o
u
r
1
2
bonjour
[1, 2]
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour les dictionnaires, il est possible d’itérer sur les clés, les valeurs, ou les deux:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{key} \PYG{o+ow}{in} \PYG{n}{d}\PYG{p}{:} \PYG{c+c1}{\PYGZsh{} On peut utiliser d.keys()}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{key}\PYG{p}{)}
    
\PYG{k}{for} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{d}\PYG{o}{.}\PYG{n}{values}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{val}\PYG{p}{)}
    
\PYG{k}{for} \PYG{n}{key}\PYG{p}{,} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{d}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{key}\PYG{p}{,} \PYG{n}{val}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
key1
3
123.45
bonjour
key1 123.45
3 bonjour
\end{sphinxVerbatim}

\sphinxAtStartPar
Si on souhaite parcourir une liste et avoir l’indice, il est possible d’utiliser la fonction enumerate:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{item} \PYG{o+ow}{in} \PYG{n+nb}{enumerate}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{L}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{item numero }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{i}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ est }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{item}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
L\PYGZsq{}item numero 0 est 1
L\PYGZsq{}item numero 1 est 2
L\PYGZsq{}item numero 2 est bonjour
L\PYGZsq{}item numero 3 est [1, 2]
\end{sphinxVerbatim}

\sphinxAtStartPar
Si on souhaite parcourir deux listes en même temps, on peut utiliser la fonction zip

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste1} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{A}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{B}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{liste2} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{24}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{lettre}\PYG{p}{,} \PYG{n}{nombre} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n}{liste1}\PYG{p}{,} \PYG{n}{liste2}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{lettre}\PYG{p}{,} \PYG{n}{nombre}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
A 10
B 4
C 24
\end{sphinxVerbatim}


\paragraph{List comprehension}
\label{\detokenize{cours3_conteneur_cours:list-comprehension}}
\sphinxAtStartPar
Il arrive fréquement que l’on souhaite créer un conteneur à partir d’un autre. Par exemple, on a une liste et on souhaite appliquer une fonction sur tous les élements. On souhaite filter un dictionnaire, …

\sphinxAtStartPar
Un façon simple consiste à créer un conteneur vide et ensuite le remplir au fur et à mesure :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{ancienne\PYGZus{}liste} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]}
\PYG{n}{nouvelle\PYGZus{}liste} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{ancienne\PYGZus{}liste}\PYG{p}{:}
    \PYG{n}{nouvelle\PYGZus{}liste}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{val}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
La technique de list comprehension permet de le faire en une seule ligne

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{nouvelle\PYGZus{}liset} \PYG{o}{=} \PYG{p}{[}\PYG{n}{val}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{k}{for} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{ancienne\PYGZus{}liste}\PYG{p}{]}
\end{sphinxVerbatim}

\sphinxAtStartPar
Cette methode fonctionne aussi pour les dictionnaires ou les ensembles

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste2} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{n}{val}\PYG{p}{:}\PYG{n}{i} \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n+nb}{enumerate}\PYG{p}{(}\PYG{n}{liste2}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{)}

\PYG{p}{\PYGZob{}}\PYG{n}{i}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZob{}\PYGZsq{}bonjour\PYGZsq{}: 0, \PYGZsq{}hello\PYGZsq{}: 1\PYGZcb{}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZob{}0, 1, 4, 9, 16, 25\PYGZcb{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est possible en plus de filtrer une liste

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[}\PYG{n}{i} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{20}\PYG{p}{)} \PYG{k}{if} \PYG{n}{i}\PYG{o}{\PYGZpc{}}\PYG{k}{2}==0 and i\PYGZpc{}3!=1]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[0, 2, 6, 8, 12, 14, 18]
\end{sphinxVerbatim}


\subsubsection{Les différents types de conteneurs}
\label{\detokenize{cours3_conteneur_cours:les-differents-types-de-conteneurs}}

\paragraph{Les listes}
\label{\detokenize{cours3_conteneur_cours:les-listes}}
\sphinxAtStartPar
Pour créer une liste, on utiliser les {[}{]}. Il est aussi possible de créer une liste à partir d’un objet itérable.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{l} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\PYG{n}{l} \PYG{o}{=} \PYG{n+nb}{list}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[\PYGZsq{}B\PYGZsq{}, \PYGZsq{}o\PYGZsq{}, \PYGZsq{}n\PYGZsq{}, \PYGZsq{}j\PYGZsq{}, \PYGZsq{}o\PYGZsq{}, \PYGZsq{}u\PYGZsq{}, \PYGZsq{}r\PYGZsq{}]
\end{sphinxVerbatim}

\sphinxAtStartPar
Voici quelques méthodes et fonctions :
\begin{itemize}
\item {} 
\sphinxAtStartPar
append : rajoute un élément à la fin

\item {} 
\sphinxAtStartPar
insert : rajoute un élément à la position i

\item {} 
\sphinxAtStartPar
extend : étend la liste en rajoutant les éléments d’un autre liste

\item {} 
\sphinxAtStartPar
l1 + l2 : crée une nouvelle liste en concaténant les deux listes.

\item {} 
\sphinxAtStartPar
sort : modifie la liste en la triant (la fonction sorted renvoie une nouvelle liste)

\item {} 
\sphinxAtStartPar
index : trouve l’indice d’un élément (ou renvoie une ValueError si il n’existe pas)

\item {} 
\sphinxAtStartPar
count : compte le nombre d’élément ayant la valeur donnée en argument

\item {} 
\sphinxAtStartPar
pop : suprime et renvoie le dernier élément

\end{itemize}


\paragraph{Les dictionnaires}
\label{\detokenize{cours3_conteneur_cours:les-dictionnaires}}
\sphinxAtStartPar
Pour créer un dictionnaire :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} ces trois dictionnaires sont identiques}
\PYG{n}{d} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{key1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{key2}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{d} \PYG{o}{=} \PYG{n+nb}{dict}\PYG{p}{(}\PYG{n}{key1}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{key2}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{l} \PYG{o}{=} \PYG{p}{[}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{key1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{key2}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{]}
\PYG{n}{d} \PYG{o}{=} \PYG{n+nb}{dict}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Quelques méthodes:
\begin{itemize}
\item {} 
\sphinxAtStartPar
keys, values, items : renvoie une ‘liste’ (en fait ce n’est pas vraiment une liste) sur laquelle on peut faire une boucle for (voir ci\sphinxhyphen{}dessus)

\item {} 
\sphinxAtStartPar
get : récupère une clé, l’intérêt est la possibilité d’utiliser une valeur par défaut si la clé n’existe pas

\item {} 
\sphinxAtStartPar
setdefault : défini une valeur si celle ci n’existe pas

\item {} 
\sphinxAtStartPar
update : modifie le dictionnaire à partir d’un nouveau dictionnaire. Il n’est pas possible de faire un ‘+’ ente deux dictionnaires

\end{itemize}

\sphinxAtStartPar
Remarques sur les clés : souvent les clés sont des chaînes de caractères, mais ce n’est pas obligatoire. On peut utiliser n’importe quel objet non modifiable ne contenant pas d’objet modifiable: nombre, chaine de caractère ou tuple contenant des objets non modifiables.


\paragraph{Les ensembles}
\label{\detokenize{cours3_conteneur_cours:les-ensembles}}
\sphinxAtStartPar
Correspond à la notion mathématique. Il ne peuvent contenir deux objets identiques. Ils sont rarement utilisés, mais pratique lorsque l’on en a besoin. On peut aussi créer un ensemble à partir de n’importe quel objet itérable

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{\PYGZcb{}}
\PYG{n}{s} \PYG{o}{=} \PYG{n+nb}{set}\PYG{p}{(}\PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Opérations sur les ensembles :
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\&}} : intersection

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{|}} : union

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\sphinxhyphen{}}} : difference

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\textasciicircum{}}} : difference symétrique

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s1} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{\PYGZcb{}}
\PYG{n}{s2} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{\PYGZcb{}}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s1} \PYG{o}{\PYGZam{}} \PYG{n}{s2}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s1} \PYG{o}{|} \PYG{n}{s2}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s1} \PYG{o}{\PYGZhy{}} \PYG{n}{s2}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s1} \PYG{o}{\PYGZca{}} \PYG{n}{s2}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZob{}2, 3, 4\PYGZcb{}
\PYGZob{}1, 2, 3, 4, 5\PYGZcb{}
\PYGZob{}1\PYGZcb{}
\PYGZob{}1, 5\PYGZcb{}
\end{sphinxVerbatim}


\paragraph{Les n\sphinxhyphen{}uplets}
\label{\detokenize{cours3_conteneur_cours:les-n-uplets}}
\sphinxAtStartPar
Similaires aux listes, il ne sont pas modofiables, ce qui permet de les utiliser comme clé dans un dictionnaires. Les n\sphinxhyphen{}uplets (tuple en anglais) sont aussi utilisé lorsqu’un fonction renvoie plusieurs éléments.

\sphinxAtStartPar
Il sont créé avec des (). Attention aux cas particulier du 1\sphinxhyphen{}uplet

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{t} \PYG{o}{=} \PYG{p}{(}\PYG{p}{)} 
\PYG{n}{t} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} (1) n\PYGZsq{}est pas un 1\PYGZhy{}uplet, mais juste le nombre 1}
\PYG{n}{t} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{56}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Seules les méthode count et index existent (et font la même chose que pour une liste).
Le \sphinxcode{\sphinxupquote{+}} permet la concaténation


\subsection{Chaînes de caractères}
\label{\detokenize{cours4_chaine_caractere_cours:chaines-de-caracteres}}\label{\detokenize{cours4_chaine_caractere_cours::doc}}

\subsubsection{Création d’une chaine}
\label{\detokenize{cours4_chaine_caractere_cours:creation-d-une-chaine}}
\sphinxAtStartPar
On peut les créer avec des \sphinxcode{\sphinxupquote{'}} ou \sphinxcode{\sphinxupquote{"}}.  Ces caractères servent à délimiter les
début et la fin du texte de la chaîne de caractère. Les guillemets
simples \sphinxcode{\sphinxupquote{'}} et doubles \sphinxcode{\sphinxupquote{"}} sont équivalents. On pourra choisir l’un ou
l’autre. Il sera cependant judicieux, si une chaîne de caractère doit contenir
un de ces guillemets, d’utiliser l’autre pour le début et la fin de la chaîne.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Bonjour}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Aujourd}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{hui}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour créer une chaîne de caractère sur plus d’une ligne on utilise \sphinxcode{\sphinxupquote{'''}} ou \sphinxcode{\sphinxupquote{"""}}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}\PYG{l+s+s2}{Bonjour, }
\PYG{l+s+s2}{Comment allez\PYGZhy{}vous ?}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
Les \sphinxstylestrong{caractères spéciaux} sont les caractères qui ne sont pas affichables et en tant que tel.
Par exemple, il existe un caractère pour le retour à la ligne. Il est possible
d’utiliser ce caractère dans une chaîne en utilisant \sphinxcode{\sphinxupquote{\textbackslash{}n}}. L’antislash sert
ici de caractère d’échappement pour indiquer que l’on va entrer un caractère
spécial. La lettre \sphinxcode{\sphinxupquote{n}} indique ici qu’il s’agit d’un retour à la ligne.

\sphinxAtStartPar
Dans les exemples suivants, le retour à la ligne est un caractère. On peut le créer en utilisant \sphinxcode{\sphinxupquote{\textbackslash{}n}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}\PYG{l+s+s2}{a}
\PYG{l+s+s2}{b}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{s}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{s2} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{a}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s2}{b}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{k}{assert} \PYG{n}{s}\PYG{o}{==}\PYG{n}{s2}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
3
\end{sphinxVerbatim}

\sphinxAtStartPar
L’antislash sert aussi à insérer un guillemet dans une chaîne :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Aujourd}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{hui}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsubsection{Manipulation des chaînes de caractères}
\label{\detokenize{cours4_chaine_caractere_cours:manipulation-des-chaines-de-caracteres}}
\sphinxAtStartPar
Comme tout conteneur indexable, il est possible d’accéder à chaque caractère d’une chaîne ou à une partie d’une
chaîne. La longueur de la chaîne s’obtient avec la fonction \sphinxcode{\sphinxupquote{len}}. On peut aussi faire une boucle \sphinxcode{\sphinxupquote{for}} sur chacun des éléments de la chaîne.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Pierre}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
P
er
\end{sphinxVerbatim}

\sphinxAtStartPar
Cependant, il n’est pas possible de modifier une chaîne de caractères (l’opération \sphinxcode{\sphinxupquote{s{[}0{]}='p'}} échoue).

\sphinxAtStartPar
L’opérateur \sphinxcode{\sphinxupquote{+}} permet de concaténer des chaînes de caractères. L’opérateur \sphinxcode{\sphinxupquote{*}} permet de répeter \sphinxcode{\sphinxupquote{n}} fois la même chaîne de caractère

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s1} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{s2} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{tout le monde}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s1} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ }\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{n}{s2}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Bonjour tout le monde
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ha!}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{*}\PYG{l+m+mi}{10}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
ha!ha!ha!ha!ha!ha!ha!ha!ha!ha!
\end{sphinxVerbatim}


\subsubsection{Formatage des chaînes de caractère}
\label{\detokenize{cours4_chaine_caractere_cours:formatage-des-chaines-de-caractere}}
\sphinxAtStartPar
Le formatage d’une chaîne de caractère consiste à mettre dans une chaine un élément variable. Cette opération est souvent utilisée lorsque l’on veut afficher proprement
un résultat

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{heure} \PYG{o}{=} \PYG{l+m+mi}{15}
\PYG{n}{minute} \PYG{o}{=} \PYG{l+m+mi}{30}
\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Il est }\PYG{l+s+si}{\PYGZob{}0\PYGZcb{}}\PYG{l+s+s2}{h}\PYG{l+s+si}{\PYGZob{}1\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{heure}\PYG{p}{,} \PYG{n}{minute}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}Il est 15h30\PYGZsq{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour insérer un élément ou plusieurs éléments variables
dans une chaîne de caractère, on crée d’abord cette chaîne en mettant à la
place des ces éléments une accolade avec un numéro d’ordre \sphinxcode{\sphinxupquote{\{i\}}}. En appliquant la
méthode \sphinxcode{\sphinxupquote{format}} sur cette chaîne, les accolades seront remplacées par
le ième argument.

\sphinxAtStartPar
Il est possible de passer l’argument par nom dans ce cas la clé est le nom de l’argument.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Il est }\PYG{l+s+si}{\PYGZob{}heure\PYGZcb{}}\PYG{l+s+s2}{h}\PYG{l+s+si}{\PYGZob{}minute\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{heure}\PYG{o}{=}\PYG{n}{heure}\PYG{p}{,} \PYG{n}{minute}\PYG{o}{=}\PYG{n}{minute}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}Il est 15h30\PYGZsq{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Depuis la version 3.6 de Python, il est possible de demander à Python d’utiliser automatiquement les variables locales à l’aide du préfix \sphinxcode{\sphinxupquote{f}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Il est }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{heure}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{h}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{minute}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}Il est 15h30\PYGZsq{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est aussi possible de demander d’utiliser un attribut d’un objet :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{z} \PYG{o}{=} \PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2}\PYG{n}{J}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Re(z) = }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{z}\PYG{o}{.}\PYG{n}{real}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Re(z) = 1.0
\end{sphinxVerbatim}

\sphinxAtStartPar
En utilisant le formatage de chaîne de caractère, il est possible de spécifier en détail comment ce nombre doit s’afficher. Par exemple, si il s’agit d’un nombre à virgule flottante, combien de décimales faut\sphinxhyphen{}il afficher, faut il utiliser la notation scientifique, etc. Pour cela, on rajoute à l’intérieur des accolades un code particulier. Ce code est précédé du signe ‘:’.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{pi}
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}0:.5f\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{pi}\PYG{p}{)}
\PYG{n}{c} \PYG{o}{=} \PYG{l+m+mf}{299792458.} \PYG{c+c1}{\PYGZsh{} Vitesse de la lumière en m/s}
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{c = }\PYG{l+s+si}{\PYGZob{}0:.3e\PYGZcb{}}\PYG{l+s+s1}{ m/s}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{c}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}c = 2.998e+08 m/s\PYGZsq{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Le ‘f’ indique que l’on veut une notation a virgule fixe, le ‘e’ une notation scientifique. Le chiffre que l’on indique après le ‘.’ donne le nombre de chiffre après la virgule que l’on souhaite.

\sphinxAtStartPar
\sphinxhref{https://docs.python.org/fr/3.5/library/string.html\#formatstrings}{L’aide en ligne} de Python fournit d’autres exemples et des détails.


\subsubsection{Quelques méthodes utiles}
\label{\detokenize{cours4_chaine_caractere_cours:quelques-methodes-utiles}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{strip}} (enlève les espaces blancs au début et fin de la chaîne)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{split}} (coupe la chaine et renvoie une liste de chaîne)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{join}} (inverse de slit : rassemble une liste de chaîne avec un chaîne)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{startswith}}, \sphinxcode{\sphinxupquote{endswith}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{lower}}, \sphinxcode{\sphinxupquote{upper}} (convertit en minuscule ou majuscule)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{replace}}

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{     bonjour   }\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{o}{.}\PYG{n}{strip}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{s}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{un deux trois}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{l} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pomme}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pêche}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{poire}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{abricot}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{, }\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
     bonjour   
bonjour
[\PYGZsq{}un\PYGZsq{}, \PYGZsq{}deux\PYGZsq{}, \PYGZsq{}trois\PYGZsq{}]
pomme, pêche, poire, abricot
\end{sphinxVerbatim}


\subsubsection{Unicode}
\label{\detokenize{cours4_chaine_caractere_cours:unicode}}
\sphinxAtStartPar
Unicode est un standard informatique qui permet des échanges de textes dans différentes langues, à un niveau mondial. Il vise au codage de texte écrit en donnant à tout caractère de n’importe quel système d’écriture un nom et un identifiant numérique, et ce de manière unifiée, quelle que soit la plateforme informatique ou le logiciel utilisé.

\sphinxAtStartPar
On peut créer des chaînes directement en unicode. On peut aussi utiliser le code en hexadecimal.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s1} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Rayon γ}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{s2} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Rayon }\PYG{l+s+se}{\PYGZbs{}u03B3}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s2}\PYG{p}{)}
\PYG{k}{assert} \PYG{n}{s1}\PYG{o}{==}\PYG{n}{s2}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Rayon γ
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est possible de convertir un caractère en nombre et vice\sphinxhyphen{}versa

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n+nb}{ord}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{€}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n+nb}{hex}\PYG{p}{(}\PYG{n+nb}{ord}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{€}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
8364
0x20ac
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ }\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{p}{[}\PYG{n+nb}{chr}\PYG{p}{(}\PYG{l+m+mi}{97} \PYG{o}{+} \PYG{n}{i}\PYG{p}{)} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{26}\PYG{p}{)}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}a b c d e f g h i j k l m n o p q r s t u v w x y z\PYGZsq{}
\end{sphinxVerbatim}

\sphinxAtStartPar
On trouve même des émoticones

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{s} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+se}{\PYGZbs{}U0001f600}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
😀
\end{sphinxVerbatim}

\sphinxAtStartPar
On peut aussi utilier le nom unicode

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+se}{\PYGZbs{}N\PYGZob{}slightly smiling face\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
🙂
\end{sphinxVerbatim}


\subsection{Programmation orientée objet}
\label{\detokenize{cours6_objet_cours:programmation-orientee-objet}}\label{\detokenize{cours6_objet_cours::doc}}
\sphinxAtStartPar
Comment créer se propres objets en Python.


\subsubsection{Vocabulaire}
\label{\detokenize{cours6_objet_cours:vocabulaire}}
\sphinxAtStartPar
En python tout ce que l’on manipule est un objet :
\begin{itemize}
\item {} 
\sphinxAtStartPar
Nombre, liste, dictionnaire, …

\item {} 
\sphinxAtStartPar
Tableau numpy

\item {} 
\sphinxAtStartPar
Fonction, module, ….

\end{itemize}

\sphinxAtStartPar
Un objet possède des \sphinxstylestrong{attributs}. Exemple :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
z = 1.1J
z.real
a = np.array([1, 2, 4])
a.shape
\end{sphinxVerbatim}

\sphinxAtStartPar
Un objet possède des \sphinxstylestrong{méthodes}. Exemple :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
a.mean()
a.conjugate()
z.conjugate()
\end{sphinxVerbatim}

\sphinxAtStartPar
Les méthodes sont des fonctions attachées à l’objet. La méthode conjugate d’un tableau n’est pas la même fonction que la méthode conjugate d’un complexe.


\subsubsection{Comment créer un objet}
\label{\detokenize{cours6_objet_cours:comment-creer-un-objet}}

\paragraph{Créer un object vecteur}
\label{\detokenize{cours6_objet_cours:creer-un-object-vecteur}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sqrt}

\PYG{k}{class} \PYG{n+nc}{Vecteur}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{,} \PYG{n}{z}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{x} \PYG{o}{=} \PYG{n}{x}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{y} \PYG{o}{=} \PYG{n}{y}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{z} \PYG{o}{=} \PYG{n}{z}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Vecteur(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{x}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{, }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{y}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{, }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{z}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
    
    \PYG{k}{def} \PYG{n+nf}{norme}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{y}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{z}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}add\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Vecteur}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Vecteur}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{x} \PYG{o}{+} \PYG{n}{other}\PYG{o}{.}\PYG{n}{x}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{y}\PYG{o}{+}\PYG{n}{other}\PYG{o}{.}\PYG{n}{y}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{z}\PYG{o}{+}\PYG{n}{other}\PYG{o}{.}\PYG{n}{z}\PYG{p}{)}
        \PYG{k}{return} \PYG{n+nb+bp}{NotImplemented}
    
    
\PYG{n}{v1} \PYG{o}{=} \PYG{n}{Vecteur}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{)}
\PYG{n}{v2} \PYG{o}{=} \PYG{n}{Vecteur}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{v1} \PYG{o}{+} \PYG{n}{v2}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Vecteur(4, 7, 4)
\end{sphinxVerbatim}


\paragraph{Attributs d’objet et de class}
\label{\detokenize{cours6_objet_cours:attributs-d-objet-et-de-class}}
\sphinxAtStartPar
Les classes sont des objets comme les autres. Elles ont des attributs. Ce sont tous les objets définis dans la classe. Si un objet ne possède pas l’attribut auquel ou souhaite accéder, c’est l’attribut de la classe qui est renvoyée si celui ci existe.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Test}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{1}
    
\PYG{n}{t} \PYG{o}{=} \PYG{n}{Test}\PYG{p}{(}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{t}\PYG{o}{.}\PYG{n}{a}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Ici on va chercher l\PYGZsq{}attribut de Test}
\PYG{n}{t}\PYG{o}{.}\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{2} \PYG{c+c1}{\PYGZsh{} A est maintenant un attribut de l\PYGZsq{}objet}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{Test}\PYG{o}{.}\PYG{n}{a}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Test possède toujours sont attribut a}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1
1
\end{sphinxVerbatim}

\sphinxAtStartPar
Les méthodes sont des fonctions qui sont des attributs de la classe. C’est lorsque l’on accède à cette attribut par l’objet, une transformation se passe et Python rajoute automatiquement l’objet comme premier argument.


\paragraph{Instance et héritage}
\label{\detokenize{cours6_objet_cours:instance-et-heritage}}
\sphinxAtStartPar
L’héritage est un mécanisme qui permet, lors de la déclaration d’une nouvelle classe, d’y inclure les caractéristiques d’une autre classe.

\sphinxAtStartPar
Un objet est une instance de sa classe. On peut le tester avec la méthode \sphinxcode{\sphinxupquote{isinstance}}. Il est aussi une instance de toutes les classes dont hérite sa classe.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{math}

\PYG{k}{class} \PYG{n+nc}{FormeGeometrique}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Polygone}\PYG{p}{(}\PYG{n}{FormeGeometrique}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Cercle}\PYG{p}{(}\PYG{n}{FormeGeometrique}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{r}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{r} \PYG{o}{=} \PYG{n}{r}
        
    \PYG{k}{def} \PYG{n+nf}{surface}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{math}\PYG{o}{.}\PYG{n}{pi}\PYG{o}{*}\PYG{n}{r}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}

\PYG{k}{class} \PYG{n+nc}{Rectangle}\PYG{p}{(}\PYG{n}{Polygone}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{largeur}\PYG{p}{,} \PYG{n}{longueur}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{largeur} \PYG{o}{=} \PYG{n}{largeur}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{longueur} \PYG{o}{=} \PYG{n}{longueur}
        
    \PYG{k}{def} \PYG{n+nf}{surface}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{largeur} \PYG{o}{*} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{longueur}
    
\PYG{n}{objet} \PYG{o}{=} \PYG{n}{Rectangle}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{objet}\PYG{o}{.}\PYG{n}{surface}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

\PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{rect}\PYG{p}{,} \PYG{n}{Polygone}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{volume\PYGZus{}prisme}\PYG{p}{(}\PYG{n}{base}\PYG{p}{,} \PYG{n}{hauteur}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{base}\PYG{o}{.}\PYG{n}{surface}\PYG{p}{(}\PYG{p}{)}\PYG{o}{*}\PYG{n}{hauteur}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
6
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
True
\end{sphinxVerbatim}

\sphinxAtStartPar
L’utilsation de classes permet d’écrire des méthodes ayant le même nom, mais différentes pour chaque objet. La fonction volume\_prisme fonctionne pour tout type de FormeGeometrique possédant une méthode surface.


\paragraph{Méthodes spéciales}
\label{\detokenize{cours6_objet_cours:methodes-speciales}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_init\_\_}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_repr\_\_}}, \sphinxcode{\sphinxupquote{\_\_str\_\_}}

\end{itemize}

\sphinxAtStartPar
Lorsque c’est possible, \sphinxcode{\sphinxupquote{\_\_repr\_\_}} doit représenter au mieux l’objet. Souvent il s’agit d’une chaine de caractère qui en étant évaluée renvoie un objet similaire. La méthode \sphinxcode{\sphinxupquote{\_\_str\_\_}} renvoie \sphinxcode{\sphinxupquote{\_\_repr\_\_}} par défaut. Sinon, elle doit être plus simple.

\sphinxAtStartPar
Opérateur unaire et binaire
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_neg\_\_}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_add\_\_}}, \sphinxcode{\sphinxupquote{\_\_sub\_\_}}, \sphinxcode{\sphinxupquote{\_\_mul\_\_}}, \sphinxcode{\sphinxupquote{\_\_truediv\_\_}}, \sphinxcode{\sphinxupquote{\_\_mod\_\_}}, \sphinxcode{\sphinxupquote{\_\_pow\_\_}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_radd\_\_}}, …

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_eq\_\_}} (==), \sphinxcode{\sphinxupquote{\_\_ne\_\_}} (!=), \sphinxcode{\sphinxupquote{\_\_lt\_\_}} (<), \sphinxcode{\sphinxupquote{\_\_le\_\_}} (<=), \sphinxcode{\sphinxupquote{\_\_gt\_\_}}, \sphinxcode{\sphinxupquote{\_\_ge\_\_}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{\_\_or\_\_}} (|), \sphinxcode{\sphinxupquote{\_\_and\_\_}} (\&), \sphinxcode{\sphinxupquote{\_\_xor\_\_}}(\textasciicircum{})

\end{itemize}

\sphinxAtStartPar
Emulateur de contenu
\begin{itemize}
\item {} 
\sphinxAtStartPar
a{[}key{]} => \sphinxcode{\sphinxupquote{a.\_\_getitem\_\_(key)}}

\item {} 
\sphinxAtStartPar
a{[}key{]} = val => \sphinxcode{\sphinxupquote{a.\_\_setitem\_\_(key, val)}}

\item {} 
\sphinxAtStartPar
del a{[}key{]} => \sphinxcode{\sphinxupquote{a.\_\_delitem\_\_(key)}}

\item {} 
\sphinxAtStartPar
len(a) => \sphinxcode{\sphinxupquote{a.\_\_len\_\_()}}

\item {} 
\sphinxAtStartPar
for elm in a => \sphinxcode{\sphinxupquote{for elm in a.\_\_iter\_\_()}}

\end{itemize}


\subsection{Tableaux de nombres}
\label{\detokenize{cours5_numpy_cours:tableaux-de-nombres}}\label{\detokenize{cours5_numpy_cours::doc}}
\sphinxAtStartPar
La librairie numpy permet de traiter de façon efficace des tableaux numpy. Nous découvrirons cette librairie, sachant que la librairie Pandas repose sur numpy.

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{numpy}} est la librairie qui permet de manipuler de larges tableaux de données. Elle offre plusieurs avantages par rapport aux listes : elle est beaucoup plus rapide et surtout permet de faire des calculs sans utiliser de boucles for. Il est indispensable de savoir manipuler correctement les tableaux numpy pour d’une part gagner du temps lors de l’exécution du programme, mais surtout gagner du temps lors de l’écriture du programme.

\sphinxAtStartPar
Contrairement aux listes, la taille et le type de donnée est fixé à la création d’un tableau numpy, ce qui fait que la mémoire est immédiatement allouée au tableau.

\sphinxAtStartPar
Voici quelques exemples :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}

\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arange}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[ 0  1  4  9 16 25 36 49 64 81]
[ 0.          0.84147098  0.90929743  0.14112001 \PYGZhy{}0.7568025  \PYGZhy{}0.95892427
 \PYGZhy{}0.2794155   0.6569866   0.98935825  0.41211849]
\end{sphinxVerbatim}


\subsubsection{Création d’un tableau}
\label{\detokenize{cours5_numpy_cours:creation-d-un-tableau}}
\sphinxAtStartPar
Il existe plusieurs fonctions pour créer un tableau.
\begin{itemize}
\item {} 
\sphinxAtStartPar
Création d’un tableau à partir d’une liste :

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{dtype}\PYG{p}{)} 

\PYG{c+c1}{\PYGZsh{} data type is calculated automatically}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{dtype}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} all numbers are float }

\PYG{c+c1}{\PYGZsh{} data type can be forced}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{,} \PYG{n}{dtype}\PYG{o}{=}\PYG{n+nb}{float}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{dtype}\PYG{p}{)} 
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
int64
float64
float64
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Création d’un tableau uniforme

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{N} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{zeros}\PYG{p}{(}\PYG{n}{N}\PYG{p}{)}
\PYG{n}{b} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{ones}\PYG{p}{(}\PYG{n}{N}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Créer un range

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{N} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arange}\PYG{p}{(}\PYG{n}{N}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Valeur calculée}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{a}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Valeur théorique}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{p}{(}\PYG{n}{N}\PYG{o}{*}\PYG{p}{(}\PYG{n}{N}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Valeur calculée 45
Valeur théorique 55.0
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Répartition uniforme de points:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{N} \PYG{o}{=} \PYG{l+m+mi}{300}
\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{linspace}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{np}\PYG{o}{.}\PYG{n}{pi}\PYG{p}{,} \PYG{n}{num}\PYG{o}{=}\PYG{n}{N}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Répartition sur une échelle logarithmique:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{logspace}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{11}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[  1.           1.58489319   2.51188643   3.98107171   6.30957344
  10.          15.84893192  25.11886432  39.81071706  63.09573445
 100.        ]
\end{sphinxVerbatim}


\subsubsection{Fonctions numpy}
\label{\detokenize{cours5_numpy_cours:fonctions-numpy}}
\sphinxAtStartPar
Le fonctions arithmétiques ainsi que toutes les fonctions mathématiques de la librairie numpy (ce sont plus ou moins les mêmes que la librairie math) fonctionnent avec des tableaux, c’est à dire qu’il n’est pas nécéssaire d’utiliser une boucle for pour créer un nouveau tableau.

\sphinxAtStartPar
Une fonction pourra être utilisée avec un tableau à condition que toutes les fonctions qu’elle utilise fonctionnent avec un tableau.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{gaussienne}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{moyenne}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{ecart\PYGZus{}type}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{np}\PYG{o}{.}\PYG{n}{exp}\PYG{p}{(} \PYG{o}{\PYGZhy{}}\PYG{p}{(}\PYG{n}{x}\PYG{o}{\PYGZhy{}}\PYG{n}{moyenne}\PYG{p}{)}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{/} \PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{ecart\PYGZus{}type}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{gaussienne}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{linspace}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{11}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
array([0.011109  , 0.05613476, 0.1978987 , 0.48675226, 0.83527021,
       1.        , 0.83527021, 0.48675226, 0.1978987 , 0.05613476,
       0.011109  ])
\end{sphinxVerbatim}

\sphinxAtStartPar
Dans cet exemple, le boucle for est réalisée au niveau de chaque opération élémentaire. Comme toutes les fonctions sont compatible avec numpy, la fonction \sphinxcode{\sphinxupquote{gaussienne}} l’est. Si on remplace np.exp par math.exp, alors il y a une erreur.

\sphinxAtStartPar
Les fonctions de base de statistiques existent soit sous forme de fonction dans la librairie numpy soit sous forme de méthode sur les tableaux. Il s’agit de \sphinxcode{\sphinxupquote{np.mean}}, \sphinxcode{\sphinxupquote{np.std}}, \sphinxcode{\sphinxupquote{np.var}}. Il existe aussi d’autre fonction de reductions (elle prennent un tableau est renvoie un nombre) : \sphinxcode{\sphinxupquote{np.sum}}, \sphinxcode{\sphinxupquote{np.mean}}, \sphinxcode{\sphinxupquote{np.max}}, \sphinxcode{\sphinxupquote{np.min}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{l+m+mi}{1\PYGZus{}000\PYGZus{}000}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} ou print(np.mean(x))}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{o}{.}\PYG{n}{std}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
0.4999435020786929
0.2886119645283682
\end{sphinxVerbatim}

\sphinxAtStartPar
Remarquons que l’instruction \sphinxcode{\sphinxupquote{if}} n’est pas une fonction. Il n’y a pas de sens à l’utiliser avec un tableau.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{k}{if} \PYG{p}{(}\PYG{n}{x}\PYG{o}{\PYGZgt{}}\PYG{o}{.}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{y} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{o}{\PYGZhy{}}\PYG{n}{x}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gt}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{n+ne}{ValueError}\PYG{g+gWhitespace}{                                }Traceback (most recent call last)
\PYG{o}{\PYGZlt{}}\PYG{n}{ipython}\PYG{o}{\PYGZhy{}}\PYG{n+nb}{input}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{13}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{85}\PYG{n}{ec1d204b32}\PYG{o}{\PYGZgt{}} \PYG{o+ow}{in} \PYG{o}{\PYGZlt{}}\PYG{n}{module}\PYG{o}{\PYGZgt{}}
\PYG{g+gWhitespace}{      }\PYG{l+m+mi}{1} \PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n+ne}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} }\PYG{l+m+mi}{2} \PYG{k}{if} \PYG{p}{(}\PYG{n}{x}\PYG{o}{\PYGZgt{}}\PYG{o}{.}\PYG{l+m+mi}{5}\PYG{p}{)}\PYG{p}{:}
\PYG{g+gWhitespace}{      }\PYG{l+m+mi}{3}     \PYG{n}{y} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{o}{\PYGZhy{}}\PYG{n}{x}

\PYG{n+ne}{ValueError}: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
\end{sphinxVerbatim}


\subsubsection{Indexer un tableau numpy}
\label{\detokenize{cours5_numpy_cours:indexer-un-tableau-numpy}}
\sphinxAtStartPar
On peut indexer un tableau numpy de plusieurs façon différentes
\begin{itemize}
\item {} 
\sphinxAtStartPar
Comme les listes, avec des entier ou des slices

\item {} 
\sphinxAtStartPar
Avec un tableau d’entier

\item {} 
\sphinxAtStartPar
Avec un tableau de booléens (les deux tableaux doivent avoir la même taille)

\end{itemize}

\sphinxAtStartPar
Les tableaux numpy sont modifiables. On peut aussi écrire de la même façon à condition que les tableaux aient une taille compatible

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{]}\PYG{p}{)}

\PYG{n}{indx} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{p}{[}\PYG{n}{indx}\PYG{p}{]}\PYG{p}{)}

\PYG{n}{mask} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{k+kc}{True}\PYG{p}{,} \PYG{k+kc}{False}\PYG{p}{,} \PYG{k+kc}{False}\PYG{p}{,} \PYG{k+kc}{True}\PYG{p}{]}\PYG{p}{)}

\PYG{n}{a}\PYG{p}{[}\PYG{n}{mask}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[6 5]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
array([1, 6])
\end{sphinxVerbatim}

\sphinxAtStartPar
Remaquons qu’il est possible de créer un tableau de booleen avec les opérateurs de comparaison

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{normal}\PYG{p}{(}\PYG{n}{size}\PYG{o}{=}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{p}{[}\PYG{n}{a}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[ 1.90777979 \PYGZhy{}0.27021906  0.20357936 \PYGZhy{}1.01244181  0.48567974  0.10253538
  1.8550102   1.14398201  0.3825322  \PYGZhy{}0.31723682]
[ True False  True False  True  True  True  True  True False]
[1.90777979 0.20357936 0.48567974 0.10253538 1.8550102  1.14398201
 0.3825322 ]
\end{sphinxVerbatim}

\sphinxAtStartPar
Exemple : créer une fonction valeur absolue compatible numpy

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{abs\PYGZus{}np}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{n}{x}\PYG{o}{.}\PYG{n}{copy}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{output}\PYG{p}{[}\PYG{n}{output}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{*}\PYG{o}{=} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}
    \PYG{k}{return} \PYG{n}{output}

\PYG{n}{abs\PYGZus{}np}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
array([1.90777979, 0.27021906, 0.20357936, 1.01244181, 0.48567974,
       0.10253538, 1.8550102 , 1.14398201, 0.3825322 , 0.31723682])
\end{sphinxVerbatim}


\subsubsection{Quelques opérations courantes}
\label{\detokenize{cours5_numpy_cours:quelques-operations-courantes}}
\sphinxAtStartPar
Il existe beaucoup de fonction numpy permettant de faire simplement des opérations sur les tableaux :

\sphinxAtStartPar
Voici quelques exemples. Parfois les fonctions numpy existent sous forme d’une méthode (\sphinxcode{\sphinxupquote{objet.method}}).

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{normal}\PYG{p}{(}\PYG{n}{size}\PYG{o}{=}\PYG{l+m+mi}{10000}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{max}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{max}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Sous forme d\PYGZsq{}une méthode}

\PYG{n}{np}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{var}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{std}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{min}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{max}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
4.3373002062093935
4.3373002062093935
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
4.3373002062093935
\end{sphinxVerbatim}

\sphinxAtStartPar
Lorsque l’on a un tableau 2D (ou plus), il est possible d’éxecuter l’opération ligne par ligne (ou colonne par colonne).

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{n} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{m} \PYG{o}{=} \PYG{l+m+mi}{4}

\PYG{c+c1}{\PYGZsh{} Tableau 2D avec les notes}
\PYG{c+c1}{\PYGZsh{} Les notes sont aléatoires !}
\PYG{n}{data} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{n}\PYG{p}{,} \PYG{n}{m}\PYG{p}{)}  

\PYG{n}{moyenne\PYGZus{}A} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Sum\PYGZus{}i a\PYGZus{}ij}
\PYG{n}{moyenne\PYGZus{}B} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Sum\PYGZus{}j a\PYGZus{}ij}
\end{sphinxVerbatim}

\sphinxAtStartPar
Opération de tri :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n}{b} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sort}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{b}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[0.08764322 0.1230581  0.17004889 0.18385438 0.45941352 0.55188637
 0.61358225 0.70715072 0.73755352 0.95182282]
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est parfois utile de connaître l’indice du maximum ou minimum ou de connaître l’ordre du tri. Cela s’obtient avec les fonctions \sphinxcode{\sphinxupquote{argmax}}, \sphinxcode{\sphinxupquote{argmin}} ou \sphinxcode{\sphinxupquote{argsort}}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{i\PYGZus{}max} \PYG{o}{=} \PYG{n}{moyenne\PYGZus{}eleves}\PYG{o}{.}\PYG{n}{argmax}\PYG{p}{(}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Le meilleur élève est le numéro }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{i\PYGZus{}max}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gt}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{n+ne}{NameError}\PYG{g+gWhitespace}{                                 }Traceback (most recent call last)
\PYG{o}{\PYGZlt{}}\PYG{n}{ipython}\PYG{o}{\PYGZhy{}}\PYG{n+nb}{input}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{7}\PYG{o}{\PYGZhy{}}\PYG{n}{fa5dcea6eb43}\PYG{o}{\PYGZgt{}} \PYG{o+ow}{in} \PYG{o}{\PYGZlt{}}\PYG{n}{module}\PYG{o}{\PYGZgt{}}
\PYG{n+ne}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} }\PYG{l+m+mi}{1} \PYG{n}{i\PYGZus{}max} \PYG{o}{=} \PYG{n}{moyenne\PYGZus{}eleves}\PYG{o}{.}\PYG{n}{argmax}\PYG{p}{(}\PYG{p}{)}
\PYG{g+gWhitespace}{      }\PYG{l+m+mi}{2} 
\PYG{g+gWhitespace}{      }\PYG{l+m+mi}{3} \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Le meilleur élève est le numéro }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{i\PYGZus{}max}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n+ne}{NameError}: name \PYGZsq{}moyenne\PYGZus{}eleves\PYGZsq{} is not defined
\end{sphinxVerbatim}

\sphinxAtStartPar
Autres fonctions utiles:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{N} \PYG{o}{=} \PYG{l+m+mi}{1000}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{normal}\PYG{p}{(}\PYG{n}{size}\PYG{o}{=}\PYG{n}{N}\PYG{p}{)}    
\PYG{c+c1}{\PYGZsh{} Différence entre deux éléments}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)} 

\PYG{c+c1}{\PYGZsh{} Marche aléatoire}
\PYG{n}{b} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{cumsum}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Lire et écrire dans un fichier}
\label{\detokenize{cours5_numpy_cours:lire-et-ecrire-dans-un-fichier}}
\sphinxAtStartPar
Il existe deux type d’enregistrement : l’enregistrement sous forme d’un fichier texte et celui sous forme binaire. Dans un fichier texte, le tableau doit être de dimension un ou deux. Il est écrit ligne par ligne sous forme de nombre décimaux. Dans un fichier binaire, c’est la mémoire de l’ordinateur qui est recopier dans le fichier. Les fichiers textes ont l’avantage d’être lisible par un humain et d’être compatible avec beaucoup de logiciel, cependant l’écriture et surtout la lecture du fichier prend beaucoup de temps. Les fichiers binaire seront beaucoup plus rapide.

\sphinxAtStartPar
Pour enregistrer au format texte :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{filename} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{test.dat}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{savetxt}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
\PYG{k}{with} \PYG{n+nb}{open}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{)} \PYG{k}{as} \PYG{n}{f}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{o}{.}\PYG{n}{read}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} Numbers are converted to float}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1.000000000000000000e+00
2.000000000000000000e+00
4.000000000000000000e+00
\end{sphinxVerbatim}

\sphinxAtStartPar
Il est possible de lire des fichiers au format ‘csv’ tels que ceux exportés par un tableur. Voici un exemple.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Création du fichier }
\PYG{n}{csv\PYGZus{}content} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}\PYG{l+s+s2}{\PYGZsh{} Tension; courant}
\PYG{l+s+s2}{1; 2.3}
\PYG{l+s+s2}{2; 4.5}
\PYG{l+s+s2}{3; 7.0}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{n}{filename} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{test.csv}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{k}{with} \PYG{n+nb}{open}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{w}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{k}{as} \PYG{n}{f}\PYG{p}{:}
    \PYG{n}{f}\PYG{o}{.}\PYG{n}{write}\PYG{p}{(}\PYG{n}{csv\PYGZus{}content}\PYG{p}{)}

\PYG{n}{data} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{loadtxt}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{,} \PYG{n}{delimiter}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{;}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{data}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[2.3 4.5 7. ]
\end{sphinxVerbatim}

\sphinxAtStartPar
Dans le cas présent, il est aussi possible de lire chaque colonne dans une variable directement :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Utilisation de l\PYGZsq{}argument unpack}
\PYG{n}{tension}\PYG{p}{,} \PYG{n}{courant} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{loadtxt}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{,} \PYG{n}{delimiter}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{;}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{unpack}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{tension}\PYG{o}{/}\PYG{n}{courant}\PYG{p}{)}        
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[0.43478261 0.44444444 0.42857143]
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour les fichiers binaires, on utilise la fonction \sphinxcode{\sphinxupquote{np.load}} et \sphinxcode{\sphinxupquote{np.save}}. Le tableau sera strictement identique après relecture.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{filename}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{test.npy}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{np}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
\PYG{n}{new\PYGZus{}a} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{load}\PYG{p}{(}\PYG{n}{filename}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{new\PYGZus{}a}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} a est toujours un tableau d\PYGZsq{}entier}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[1 2 4]
\end{sphinxVerbatim}


\subsection{Tracer des graphiques}
\label{\detokenize{cours7_graphiques_cours:tracer-des-graphiques}}\label{\detokenize{cours7_graphiques_cours::doc}}
\sphinxAtStartPar
Nous utiliserons la librairie matplotlib. La page \sphinxurl{https://matplotlib.org/stable/gallery/index.html} contient de nombreux exemples.

\sphinxAtStartPar
Les fonctions sont dans le module \sphinxcode{\sphinxupquote{matplotlib.pyplot}} qu’il est courant d’importer sous le nom de \sphinxcode{\sphinxupquote{plt}}.


\subsubsection{Exemples}
\label{\detokenize{cours7_graphiques_cours:exemples}}
\sphinxAtStartPar
Le plus simple est d’étudier des exemples.


\paragraph{Graphiques simples}
\label{\detokenize{cours7_graphiques_cours:graphiques-simples}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}

\PYG{n}{X} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{linspace}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{100}\PYG{p}{)}
\PYG{n}{Y} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{X}\PYG{p}{)}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{np}\PYG{o}{.}\PYG{n}{exp}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{X}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{Y\PYGZus{}noise} \PYG{o}{=} \PYG{n}{Y} \PYG{o}{+} \PYG{o}{.}\PYG{l+m+mi}{1}\PYG{o}{*}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{X}\PYG{p}{)}\PYG{p}{)}\PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.5}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{plt}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{figure}\PYG{p}{(}\PYG{n}{figsize}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{X}\PYG{p}{,}\PYG{n}{Y}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+sa}{u}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Theory}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{X}\PYG{p}{,}\PYG{n}{Y\PYGZus{}noise}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{o}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+sa}{u}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Experiment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Voltage [V]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZdl{}}\PYG{l+s+s1}{\PYGZbs{}}\PYG{l+s+s1}{zeta\PYGZdl{} [m]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{title}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Nonsense graph}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{n}{loc}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{upper left}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{k+kc}{True}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{savefig}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mafigure.pdf}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{45321c9acbe53ca639b0c10838c7af365275378cc567a6e88ae417b4bee30871}.png}

\sphinxAtStartPar
Il existe deux syntaxes pour matplotlib, la syntaxe ci\sphinxhyphen{}dessus à base de fonctions (syntaxe historiquement utilisée par beaucoup de personnes) et une syntaxe utilisant sur des objets. L’idée est d’utiliser des méthodes des objets figure ainsi que des graphiques (appelé \sphinxcode{\sphinxupquote{axes}}, il peut y avoir plusieurs \sphinxcode{\sphinxupquote{axes}}, à ne pas confondre avec \sphinxcode{\sphinxupquote{axis}} qui sont les abscisses et ordonnées).

\sphinxAtStartPar
Voici le même exemple en orienté objet:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k+kn}{import} \PYG{n}{figure}

\PYG{n}{fig} \PYG{o}{=} \PYG{n}{figure}\PYG{p}{(}\PYG{n}{figsize}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{ax} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Création d\PYGZsq{}un graphique}

\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{X}\PYG{p}{,} \PYG{n}{Y}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+sa}{u}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Theory}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{X}\PYG{p}{,} \PYG{n}{Y\PYGZus{}noise}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{o}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+sa}{u}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Experiment}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{set\PYGZus{}xlabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Voltage [V]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{set\PYGZus{}ylabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZdl{}}\PYG{l+s+s1}{\PYGZbs{}}\PYG{l+s+s1}{zeta\PYGZdl{} [m]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{set\PYGZus{}title}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Nonsense graph}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{n}{loc}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{upper left}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{k+kc}{True}\PYG{p}{)}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{45321c9acbe53ca639b0c10838c7af365275378cc567a6e88ae417b4bee30871}.png}

\sphinxAtStartPar
Le syntaxe orientée objet est plus simple lorsque l’on veut mettre plusieurs graphs dans une même figure.


\paragraph{Graphiques multiples}
\label{\detokenize{cours7_graphiques_cours:graphiques-multiples}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{jours} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{temperature} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{20}\PYG{p}{,} \PYG{l+m+mi}{21}\PYG{p}{,} \PYG{l+m+mi}{23}\PYG{p}{,} \PYG{l+m+mi}{21}\PYG{p}{,} \PYG{l+m+mi}{19}\PYG{p}{,} \PYG{l+m+mi}{19}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{pression} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1015}\PYG{p}{,} \PYG{l+m+mi}{1020}\PYG{p}{,} \PYG{l+m+mi}{1021}\PYG{p}{,} \PYG{l+m+mi}{1023}\PYG{p}{,} \PYG{l+m+mi}{1025}\PYG{p}{,} \PYG{l+m+mi}{1024}\PYG{p}{]}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{figure}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{subplot}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{jours}\PYG{p}{,} \PYG{n}{temperature}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Temperature [°]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{subplot}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{jours}\PYG{p}{,} \PYG{n}{pression}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Jour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Pression [mbar]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Text(0, 0.5, \PYGZsq{}Pression [mbar]\PYGZsq{})
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{de5cb0795943aeb8aad2d12895db53343837635b0b8f7d5e954b8c7a98ad8bcf}.png}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{fig} \PYG{o}{=} \PYG{n}{figure}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{ax1}\PYG{p}{,} \PYG{n}{ax2} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{sharex}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\PYG{n}{ax1}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{jours}\PYG{p}{,} \PYG{n}{temperature}\PYG{p}{)}
\PYG{n}{ax1}\PYG{o}{.}\PYG{n}{set\PYGZus{}ylabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Temperature [°]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{ax2}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{jours}\PYG{p}{,} \PYG{n}{pression}\PYG{p}{)}

\PYG{n}{ax2}\PYG{o}{.}\PYG{n}{set\PYGZus{}xlabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Jour}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax2}\PYG{o}{.}\PYG{n}{set\PYGZus{}ylabel}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Pression [mbar]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Text(0, 0.5, \PYGZsq{}Pression [mbar]\PYGZsq{})
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{a01fb7a72cc0e4fb019dfc5b25d6bbdce73fa7dd3608011e3d49f2792412ea6f}.png}


\paragraph{Barres d’erreur}
\label{\detokenize{cours7_graphiques_cours:barres-d-erreur}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{plt}

\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mf}{5.5}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{erreurs\PYGZus{}y} \PYG{o}{=} \PYG{l+m+mf}{0.1} \PYG{o}{*} \PYG{n}{y}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{errorbar}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{,} \PYG{n}{erreurs\PYGZus{}y}\PYG{p}{,} \PYG{n}{fmt}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{.}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{données+barres}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{l}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{axe des x}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{l}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{axe des y}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{n}{loc}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{title}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Le titre}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Text(0.5, 1.0, \PYGZsq{}Le titre\PYGZsq{})
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{fada908cf77fc5c71a0e13d297b52ce2ffb0c80f35a315cca40220a0a4010b11}.png}


\paragraph{Inset}
\label{\detokenize{cours7_graphiques_cours:inset}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{plt}

\PYG{k}{def} \PYG{n+nf}{fermi\PYGZus{}dirac}\PYG{p}{(}\PYG{n}{epsilon}\PYG{p}{,} \PYG{n}{mu}\PYG{p}{,} \PYG{n}{beta}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{exp}\PYG{p}{(}\PYG{n}{beta}\PYG{o}{*}\PYG{p}{(}\PYG{n}{epsilon} \PYG{o}{\PYGZhy{}} \PYG{n}{mu}\PYG{p}{)}\PYG{p}{)}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}

\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{linspace}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{num}\PYG{o}{=}\PYG{l+m+mi}{1000}\PYG{p}{)}
\PYG{n}{x\PYGZus{}zoom} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{linspace}\PYG{p}{(}\PYG{l+m+mf}{0.9}\PYG{p}{,} \PYG{l+m+mf}{1.1}\PYG{p}{,} \PYG{n}{num}\PYG{o}{=}\PYG{l+m+mi}{1000}\PYG{p}{)}

\PYG{n}{fig} \PYG{o}{=} \PYG{n}{plt}\PYG{o}{.}\PYG{n}{figure}\PYG{p}{(}\PYG{n}{figsize}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{ax} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}

\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{fermi\PYGZus{}dirac}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{mu}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{beta}\PYG{o}{=}\PYG{l+m+mi}{100}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{axins} \PYG{o}{=} \PYG{n}{ax}\PYG{o}{.}\PYG{n}{inset\PYGZus{}axes}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.35}\PYG{p}{,} \PYG{l+m+mf}{0.47}\PYG{p}{,} \PYG{l+m+mf}{0.47}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{axins}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{x\PYGZus{}zoom}\PYG{p}{,} \PYG{n}{fermi\PYGZus{}dirac}\PYG{p}{(}\PYG{n}{x\PYGZus{}zoom}\PYG{p}{,} \PYG{n}{mu}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{beta}\PYG{o}{=}\PYG{l+m+mi}{100}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{indicate\PYGZus{}inset\PYGZus{}zoom}\PYG{p}{(}\PYG{n}{axins}\PYG{p}{,} \PYG{n}{edgecolor}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{black}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{k}{for} \PYG{n}{a} \PYG{o+ow}{in} \PYG{p}{[}\PYG{n}{ax}\PYG{p}{,} \PYG{n}{axins}\PYG{p}{]}\PYG{p}{:}
    \PYG{n}{a}\PYG{o}{.}\PYG{n}{set\PYGZus{}xlabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZdl{}}\PYG{l+s+s1}{\PYGZbs{}}\PYG{l+s+s1}{epsilon\PYGZdl{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{n}{a}\PYG{o}{.}\PYG{n}{set\PYGZus{}ylabel}\PYG{p}{(}\PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZdl{}}\PYG{l+s+s1}{\PYGZbs{}}\PYG{l+s+s1}{bar n\PYGZdl{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{n}{a}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{14baca4c8704092e3525fc5fd5e53b6711ca49c35fb98a3b8f75682aeb8780a3}.png}


\paragraph{Echelle logarithmique}
\label{\detokenize{cours7_graphiques_cours:echelle-logarithmique}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{logspace}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{3} \PYG{o}{+} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}

\PYG{n}{fig} \PYG{o}{=} \PYG{n}{figure}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{ax} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}

\PYG{n}{fig} \PYG{o}{=} \PYG{n}{figure}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{ax} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{loglog}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{n}{which}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{both}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{7705830571333180493a463ae3bfedfd09d979171f604da2c5bed44ca3d9de1a}.png}

\noindent\sphinxincludegraphics{{09f2661937d6b73de41a1a1a7c9c991084093bd87c3da0f03d46c08a67555eb4}.png}


\subsubsection{Les commandes}
\label{\detokenize{cours7_graphiques_cours:les-commandes}}

\paragraph{Créer le graphique}
\label{\detokenize{cours7_graphiques_cours:creer-le-graphique}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{plt.figure(figsize=(w, h))}} : Permet de créer la figure. Largeur et hauteur en pouce (2.54 cm)

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{fig.subplots(n, m)}} : découpe la figure en n (verticalement) et m (horizontalement) graphiques. Cette commander renvoie une matrice de n par m axes. Avec la méthode fonctionnel, la commande \sphinxcode{\sphinxupquote{plt.subplot(n, m, i)}} créer le ième axe de la matrice et le sélectionne pour le prochain plot.

\end{itemize}


\paragraph{Tracer des données}
\label{\detokenize{cours7_graphiques_cours:tracer-des-donnees}}
\sphinxAtStartPar
Toutes ces fonctions sont les mêmes en mode fonctionnel ou objet.
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{plot(X, Y)}} trace avec une ligne

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{plot(X, Y, fmt)}} pour contrôler la forme et la couleur. Couleurs : blue (b), red (r), black (k), green (g). Forme : disque (o), diamand (d), ligne pointillée (:), …

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{plot(X, Y, color=..., linestyle=..., linewidth=...)}}, syntaxe plus explicite. Les couleurs peuvent être en tout lettre (red, blue, orange, ..) suivre le cycle par défaut (C0, C1, C2, C3), ou être définie par l’intensité RGB. Le style des lignes : solid, dotted, dashed, dashdot. La linewidth est en point.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{loglog}}, \sphinxcode{\sphinxupquote{semilogy}}, \sphinxcode{\sphinxupquote{semilogx}} : pour tracer avec des échelles logarithmique. On peut aussi changer avec \sphinxcode{\sphinxupquote{plt.xscale('log')}} ou \sphinxcode{\sphinxupquote{ax.set\_xscale}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{errorbar(x, y, yerr=..., xerr=...)}}: pour tracer des points avec des barres d’erreur.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{scatter(x, y, s=..., c=...)}} pour tracer un nuage de points avec des tailles (s) ou des couleurs (c) sous forme d’un tableau.

\end{itemize}


\paragraph{Légendes,…}
\label{\detokenize{cours7_graphiques_cours:legendes}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Toutes les fonctions ci\sphinxhyphen{}dessus ont un argument optionel \sphinxcode{\sphinxupquote{label}}. On peut alors utiler la fonction plt.legend (ou ax.legend) pour afficher la légende.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{xlabel}}, \sphinxcode{\sphinxupquote{ylabel}} : ne jamais oublier les unités

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{grid}} : Tracer une grille en arrière plan

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{text}} : rajoute un texte

\end{itemize}

\sphinxAtStartPar
Remarques : pour les chaînes de caractère, il est possible d’utiliser des formules latex en utilisant des \sphinxcode{\sphinxupquote{\$}}. Il faut alors faire attention aux \sphinxcode{\sphinxupquote{\textbackslash{}}} : en effet il est possible qu’ils soient interprété comme des caractères spéciaux (par exemple \sphinxcode{\sphinxupquote{\textbackslash{}n}} est un retour à la ligne). Pour éviter ceci, on utilise des chaîne brutes (raw string), préfixées par un \sphinxcode{\sphinxupquote{r}}.


\section{Feuilles d’exercices}
\label{\detokenize{feuilles_d_exercices:feuilles-d-exercices}}\label{\detokenize{feuilles_d_exercices::doc}}

\subsection{Exercices sur les fonctions}
\label{\detokenize{cours1_fonctions_exercices:exercices-sur-les-fonctions}}\label{\detokenize{cours1_fonctions_exercices::doc}}

\subsubsection{Que fait cette fonction ?}
\label{\detokenize{cours1_fonctions_exercices:que-fait-cette-fonction}}
\sphinxAtStartPar
Répondre aux questions de cet exercice sans s’aider de l’ordinateur, puis vérifier.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
On souhaite calculer \(\sum \frac{1}{i}\). Quelle est la différence entre les différentes fonctions si dessous ? Laquelle est la “bonne” fonction, laquelle la “pire”

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}1}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{output}\PYG{p}{)}
        
\PYG{n}{serie\PYGZus{}1}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
        
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}2}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
        \PYG{k}{return} \PYG{n}{output}

\PYG{n}{serie\PYGZus{}2}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}    
    
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}3}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{output}\PYG{p}{)}
    
\PYG{n}{serie\PYGZus{}3}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}

        
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}4}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
    \PYG{k}{return} \PYG{n}{output}

\PYG{n}{serie\PYGZus{}4}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Parmi tous les appels de la fonction \sphinxcode{\sphinxupquote{f}} ci dessous, lequels vont faire une erreur ? Quelle sera l’erreur ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{a}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n}{b}

\PYG{n}{p} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{Bonjour}\PYG{p}{,} \PYG{n}{Hello}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{a}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{b}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{a}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\PYG{n}{f}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour, Hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{p}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{o}{*}\PYG{n}{p}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ? Dans quels fonction \sphinxcode{\sphinxupquote{x}} est une variable globale ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f1}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{f2}\PYG{p}{(}\PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{f3}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{def} \PYG{n+nf}{f4}\PYG{p}{(}\PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{f1}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{5}
\PYG{n}{f1}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f2}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}    
\PYG{n}{f3}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f4}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Attention, il y a un piège ici.}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sin}

\PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mf}{3.141592653589793}

\PYG{k}{def} \PYG{n+nf}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}
    
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{return} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{o}{*}\PYG{n}{a} \PYG{o}{+} \PYG{l+m+mi}{10}\PYG{o}{*}\PYG{n}{b} \PYG{o}{+} \PYG{n}{c}\PYG{p}{)}

\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{n}{b} \PYG{o}{=} \PYG{l+m+mi}{2}
\PYG{n}{c} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{c}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{o}{=}\PYG{n}{c}\PYG{p}{,} \PYG{n}{c}\PYG{o}{=}\PYG{n}{b}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{o}{=}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{o}{=}\PYG{n}{a}\PYG{p}{,} \PYG{n}{c}\PYG{o}{=}\PYG{n}{a}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Fonction cos\_deg}
\label{\detokenize{cours1_fonctions_exercices:fonction-cos-deg}}
\sphinxAtStartPar
Ecrire une fonction qui renvoie le cosinus d’un angle exprimé en degré


\subsubsection{Volume d’un cône}
\label{\detokenize{cours1_fonctions_exercices:volume-d-un-cone}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui renoit le volume d’un cône de rayon \(r\) et hauteur \(h\).

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui envoit le volume d’un tronc de cône de rayon \(r_1\) et \(r_2\).

\item {} 
\sphinxAtStartPar
Ecrire une seule fonction pour laquelle le tronc de cône est par défaut un cône (i.e. \(r_2=1\))

\end{enumerate}


\subsubsection{Fonction datetime}
\label{\detokenize{cours1_fonctions_exercices:fonction-datetime}}
\sphinxAtStartPar
Importer la fonction \sphinxcode{\sphinxupquote{datetime}} du module \sphinxcode{\sphinxupquote{datetime}} et regarder se documentation.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Utiliser cette fonction pour entrer votre date de naissance (et l’heure si vous la connaissez) en nomant explicitement les arguments.

\item {} 
\sphinxAtStartPar
Même question mais après avoir mis les arguments dans une liste

\item {} 
\sphinxAtStartPar
Dans un dictionnaire

\end{enumerate}


\subsubsection{Fonction date en français}
\label{\detokenize{cours1_fonctions_exercices:fonction-date-en-francais}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction \sphinxcode{\sphinxupquote{date\_en\_francais}} qui renvoie un objet \sphinxcode{\sphinxupquote{date}} mais dont les arguments sont en français (\sphinxcode{\sphinxupquote{annee}}, \sphinxcode{\sphinxupquote{mois}}, \sphinxcode{\sphinxupquote{jour}})

\item {} 
\sphinxAtStartPar
Idem avec la fonction \sphinxcode{\sphinxupquote{datetime}} du module \sphinxcode{\sphinxupquote{datetime}} (il faudra rajouter les arguments optionels \sphinxcode{\sphinxupquote{heure}}, \sphinxcode{\sphinxupquote{minute}}, \sphinxcode{\sphinxupquote{seconde}})

\end{enumerate}


\subsubsection{Polynômes}
\label{\detokenize{cours1_fonctions_exercices:polynomes}}
\sphinxAtStartPar
On considère un polynôme de degrés \(n\) : \(a_0 + a_1x + a_2x^2 + ... + a_n x^n\).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction \sphinxcode{\sphinxupquote{eval\_polynome\_troisieme\_degres(x, a\_0, a\_1, a\_2, a\_3)}} qui évalue un tel polynôme en \(x\).

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui permettra d’évaluer un polynôme de degré inférieur à 4 est que l’on pourra utiliser de la façon suivante :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
 eval\PYGZus{}polynome(x, 3, 4) \PYGZsh{} 3x + 4
 eval\PYGZus{}polynome(x, a\PYGZus{}0=2, a\PYGZus{}2=4) \PYGZsh{} 4x\PYGZca{}2 + 4
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Faire en sorte que cette fonction marche pour n’importe quel degré.

\end{enumerate}


\subsubsection{Equation du second degré}
\label{\detokenize{cours1_fonctions_exercices:equation-du-second-degre}}
\sphinxAtStartPar
On souhaite trouver les solutions de l’équation : \(ax^2 + bx + c=0\). On rappelle que pour cela on calcule le discriminant \(\Delta = b^2 - 4*a*c\).
\begin{itemize}
\item {} 
\sphinxAtStartPar
Si \(\Delta>0\), les solutions sont \(\frac{-b \pm \sqrt{Delta}}{2a}\)

\item {} 
\sphinxAtStartPar
Si \(\Delta=0\), il y a une solution (double) \(\frac{-b }{2a}\)

\item {} 
\sphinxAtStartPar
Si \(\Delta<0\), les solutions sont \(\frac{-b \pm i\sqrt{Delta}}{2a}\)

\end{itemize}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction equation\_second\_degre qui donne les solutions.

\item {} 
\sphinxAtStartPar
Tester l’équation \(x^2 -3x + 2\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui résout une équation du premier degré.

\item {} 
\sphinxAtStartPar
Faire en sorte que cette fonction soit appelée lorsque \(a=0\).

\end{enumerate}


\subsubsection{Coordonnée polaire d’un nombre complexe}
\label{\detokenize{cours1_fonctions_exercices:coordonnee-polaire-d-un-nombre-complexe}}
\sphinxAtStartPar
On considère une nombre complexe \(z\) et sa représentation polaire : \(z = re^{i\theta}\)
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui à partir de \(r\) et \(\theta\) renvoie \(z\)

\end{enumerate}


\subsubsection{Nombres premiers}
\label{\detokenize{cours1_fonctions_exercices:nombres-premiers}}
\sphinxAtStartPar
Ecrire une fonction qui renvoie True si un nombre est premier et False sinon. Pour cela, on testera si le nombre
est divisible par les entiers successifs à partir de 2.

\sphinxAtStartPar
On admet que si \(n\) n’est pas premier, alors il existe un entier \(p \ge 2\) tel que \(p^2 \le n\) qui est un diviseur de \(n\).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire la fonction à l’aide d’une boucle.

\item {} 
\sphinxAtStartPar
Combien y a t\sphinxhyphen{}il d’années au XXIème siècle qui sont des nombres premiers ?

\item {} 
\sphinxAtStartPar
Si vous n’êtes pas convaincu que c’est mieux avec des fonctions, faites le sans…

\end{enumerate}


\subsubsection{Mention}
\label{\detokenize{cours1_fonctions_exercices:mention}}
\sphinxAtStartPar
Ecrire une fonction qui à partir de la note sur 20 donne la mention


\subsection{Exercices sur les nombres}
\label{\detokenize{cours2_nombres_exercices:exercices-sur-les-nombres}}\label{\detokenize{cours2_nombres_exercices::doc}}

\subsubsection{Fonctions mathématiques}
\label{\detokenize{cours2_nombres_exercices:fonctions-mathematiques}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Est ce que la fonction log est le logarithme décimal ou népérien ?

\item {} 
\sphinxAtStartPar
Calculer \(x = \sqrt{2}\) puis calculer \(x^2\). Que se passe\sphinxhyphen{}t\sphinxhyphen{}il ?

\item {} 
\sphinxAtStartPar
Calculer \(\arccos{\frac{\sqrt{2}}{2}}\) et comparer à sa valeur théorique.

\end{itemize}


\subsubsection{Constante de structure fine}
\label{\detokenize{cours2_nombres_exercices:constante-de-structure-fine}}
\sphinxAtStartPar
La constante de structure fine est définie en physique comme étant égale à
\begin{equation*}
\begin{split} 
\alpha = \frac{e^2}{2\epsilon_0 h c}
\end{split}
\end{equation*}
\sphinxAtStartPar
où
\begin{itemize}
\item {} 
\sphinxAtStartPar
\(e\) est la charge de l’électron et vaut \(1.602176634 \times 10^{-19} C\)

\item {} 
\sphinxAtStartPar
\(h\) est la constante de Planck et vaut \(6.626\,070\,15 \times 10^{-34} J s\)

\item {} 
\sphinxAtStartPar
\(\epsilon_0\) la permitivité du vide et vaut \(8.8541878128 \times 10^{-12} F/m\)

\item {} 
\sphinxAtStartPar
\(c\) la célérité de la lumière dans le vide, \(c=299792458 m/s\)

\end{itemize}

\sphinxAtStartPar
Définissez en Python les variables \sphinxcode{\sphinxupquote{e}}, \sphinxcode{\sphinxupquote{hbar}}, \sphinxcode{\sphinxupquote{epsilon\_0}} et \sphinxcode{\sphinxupquote{c}}. Calculez \(\alpha\) et \(1/\alpha\)


\subsubsection{Précision des nombres}
\label{\detokenize{cours2_nombres_exercices:precision-des-nombres}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Soit \(x=1\) et \(\epsilon = 10^{-15}\). Calculez \(y=x + \epsilon\) et ensuite \(y - x\).

\item {} 
\sphinxAtStartPar
Pourquoi le résultat est différent de \(10^{-15}\).

\item {} 
\sphinxAtStartPar
Que vaut cette valeur ?

\end{itemize}


\subsubsection{Calcul d’une dérivée}
\label{\detokenize{cours2_nombres_exercices:calcul-d-une-derivee}}
\sphinxAtStartPar
On considère une fonction \(f(x)\). On rappelle que la dérivée peut se définir comme
\begin{equation*}
\begin{split}
f^\prime(x) = \lim_{\epsilon\rightarrow0}\frac{f(x+\epsilon) - f(x)}{\epsilon}
\end{split}
\end{equation*}
\sphinxAtStartPar
Pour calculer numériquement une dérivée, il faut évaluer la limite en prenant une valeur ‘petite’ de \(\epsilon\).

\sphinxAtStartPar
On prendra comme exemple \(f(x) = \sin(x)\).
\begin{itemize}
\item {} 
\sphinxAtStartPar
Calculer numériquement la dérivée de \(f\) en \(\pi/4\) en utilisant la formule pour \(\epsilon = 10^{-6}\).

\item {} 
\sphinxAtStartPar
Comparer à la valeur théorique \(\cos(x)\) pour différentes valeurs de \(\epsilon\) que l’on prendra comme puissance de 10 (\(\epsilon = 10^{-n}\)). Que se passe\sphinxhyphen{}t\sphinxhyphen{}il si \(\epsilon\) est trop petit ? trop grand ?

\item {} 
\sphinxAtStartPar
Ecrire la fonction \sphinxcode{\sphinxupquote{sin\_prime(x, epsilon)}} qui calcule la dérivée de sin en \(x\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui prend une fonction quelconque et renvoie la fonction dérivée.

\end{itemize}


\subsubsection{Nombre complexe}
\label{\detokenize{cours2_nombres_exercices:nombre-complexe}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui calcule le module d’un nombre complexe \(z\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui à partir de \(r\) et \(\theta\) renvoie le nombre \(z = re^{i\theta} = r\cos(\theta) + ir\sin(\theta)\)

\end{itemize}


\subsection{Exercices sur les conteneurs}
\label{\detokenize{cours3_conteneur_exercices:exercices-sur-les-conteneurs}}\label{\detokenize{cours3_conteneur_exercices::doc}}

\subsubsection{Manipulation des listes}
\label{\detokenize{cours3_conteneur_exercices:manipulation-des-listes}}
\sphinxAtStartPar
On considère la liste {[}1, 5, 3, 5, 6, 2{]}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Écrire une fonction ‘somme’ qui renvoie la somme des éléments d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘maximum’ qui renvoie le maximum des éléments d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘arg\_maximum’ qui renvoie l’indice du maximum d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘trouve’ qui renvoie l’indice correspondant à l’argument. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Comment répondre aux questions 1, 2, 3, 4 en utilisant des fonctions déjà existantes ?

\end{enumerate}


\subsubsection{Liste comprehension}
\label{\detokenize{cours3_conteneur_exercices:liste-comprehension}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Créer une liste nomée \sphinxcode{\sphinxupquote{nombres}} contenant les entiers de 0 à 9 inclus

\item {} 
\sphinxAtStartPar
Créer une liste contenant la racine carré des éléments de \sphinxcode{\sphinxupquote{nombres}} (on utilisera une comprehension de liste)

\item {} 
\sphinxAtStartPar
Créer une liste contenant tous les nombres pairs de la listes \sphinxcode{\sphinxupquote{nombres}} (on utilisera une comprehension de liste)

\item {} 
\sphinxAtStartPar
Toujours en utilisant un comprehension de liste, considérant deux listes \sphinxcode{\sphinxupquote{l1}} et \sphinxcode{\sphinxupquote{l2}}, créer une nouvelle liste contenant les couples pris deux à deux de l1 et l2. On supposera que les deux liste ont la même longueur. Quelle fonction python fait la même chose ?

\item {} 
\sphinxAtStartPar
En utilisant la fonction de la question 4 et la liste de la question 2 vérifier que l’on a bien \(y=x^2\) pour chaque élément.

\end{enumerate}


\subsubsection{Exercice de base sur les dictionnaires}
\label{\detokenize{cours3_conteneur_exercices:exercice-de-base-sur-les-dictionnaires}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Tout d’abord, nous allons créer un petit dictionnaire qui contient des informations sur un étudiant. Utilisons les clés et valeurs suivantes en exemple :
\begin{itemize}
\item {} 
\sphinxAtStartPar
‘nom’: ‘Jean Dupont’

\item {} 
\sphinxAtStartPar
‘âge’: 20

\item {} 
\sphinxAtStartPar
‘filière’: ‘Informatique’

\end{itemize}

\item {} 
\sphinxAtStartPar
Modifier l’age pour qu’il soit égal à 21

\item {} 
\sphinxAtStartPar
Afficher le genre de l’étudiant si il possède une telle clé sinon afficher un message inquant que l’on ne connait pas son genre.

\end{enumerate}


\subsubsection{Exercice sur les ensembles}
\label{\detokenize{cours3_conteneur_exercices:exercice-sur-les-ensembles}}
\sphinxAtStartPar
La fonction chr permet de convertir un code ASCII en un caractère. La liste des lettres majuscules peut être obtenue à partir de la commande suivante :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste\PYGZus{}majuscules} \PYG{o}{=} \PYG{p}{[}\PYG{n+nb}{chr}\PYG{p}{(}\PYG{l+m+mi}{65}\PYG{o}{+}\PYG{n}{i}\PYG{p}{)} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{26}\PYG{p}{)}\PYG{p}{]}
\end{sphinxVerbatim}

\sphinxAtStartPar
On souhaite vérifier qu’un mot de passe entré par un utilisateur est sufisament compliqué. Voici les règles :
\begin{itemize}
\item {} 
\sphinxAtStartPar
Il doit contenir 12 caractères différents

\item {} 
\sphinxAtStartPar
Il doit contenir au moins 2 majuscules différentes

\item {} 
\sphinxAtStartPar
Il doit contenir au moins un caractère de ponctuation \sphinxcode{\sphinxupquote{.,;:!?}}

\item {} 
\sphinxAtStartPar
Il ne doit pas contenir d’espace

\end{itemize}

\sphinxAtStartPar
Ecrire une fonction qui renvoie True si toutes les conditions sont vérifiées et False sinon


\subsection{Chaînes de caractères}
\label{\detokenize{cours4_chaine_caractere_exercices:chaines-de-caracteres}}\label{\detokenize{cours4_chaine_caractere_exercices::doc}}

\subsubsection{Liste de prix}
\label{\detokenize{cours4_chaine_caractere_exercices:liste-de-prix}}
\sphinxAtStartPar
Voici un liste de prix sous forme d’un dictionnaire. Afficher la liste de prix de la façon suivante :



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{price\PYGZus{}liste} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{tomates}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{3.4}\PYG{p}{,}
     \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pommes}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{2.49}\PYG{p}{,}
     \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{oignons}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{1.45}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{Unicode}
\label{\detokenize{cours4_chaine_caractere_exercices:unicode}}
\sphinxAtStartPar
Afficher toutes les lettres greques de α à ω. (On pourra copier coller ces lettres pour avoir leurs unicodes)


\subsubsection{Combien La Fontaine a t\sphinxhyphen{}il utilisé de mots différents dans ses fables ?}
\label{\detokenize{cours4_chaine_caractere_exercices:combien-la-fontaine-a-t-il-utilise-de-mots-differents-dans-ses-fables}}
\sphinxAtStartPar
Les lignes suivantes permettent de télécharger l’ensemble des fables de la Fontaine.
\begin{itemize}
\item {} 
\sphinxAtStartPar
Combien y a\sphinxhyphen{}t\sphinxhyphen{}il de mots différents ? On pourra d’abord remplacer toutes les ponctuations par des espaces, puis créer une liste de mots que l’on mettra en minuscule. On créera ensuite un ensemble dont on regardera la taille.

\item {} 
\sphinxAtStartPar
Quelle est le mot le plus long ?

\end{itemize}


\subsection{Objets}
\label{\detokenize{cours6_objet_exercices:objets}}\label{\detokenize{cours6_objet_exercices::doc}}

\subsubsection{Vecteur}
\label{\detokenize{cours6_objet_exercices:vecteur}}
\sphinxAtStartPar
Créer une classe Vecteur3D. Chaque vecteur aura 3 attributs : x, y, z
\begin{itemize}
\item {} 
\sphinxAtStartPar
Écrire une méthode norme qui renvoie la norme.

\item {} 
\sphinxAtStartPar
Écrire la méthode \sphinxcode{\sphinxupquote{\_\_add\_\_}} pour faire la somme entre deux veteurs

\item {} 
\sphinxAtStartPar
Écrire la méthode \sphinxcode{\sphinxupquote{\_\_mul\_\_}} pour faire soit le produit par un scalaire (\(2\vec{u}\)) ou le produit scalaire (\(\vec{u}\cdot\vec{v}\)).

\end{itemize}


\subsubsection{Bibliographie}
\label{\detokenize{cours6_objet_exercices:bibliographie}}
\sphinxAtStartPar
Un livre est décrit par son titre, auteur et année de publication (pour faire les choses simplements). Écrire une classe \sphinxcode{\sphinxupquote{Livre}} qui enregistre ces informations. Ecrire la méthode \sphinxcode{\sphinxupquote{\_\_repr\_\_}} et \sphinxcode{\sphinxupquote{\_\_str\_\_}}.

\sphinxAtStartPar
Une bibliographe est une liste de livre. Écrire la classe \sphinxcode{\sphinxupquote{Bibliographie}} qui enregistre une liste de livre (on stockera la liste de livre sous forme d’une liste qui sera un attribut de la bibliographie).

\sphinxAtStartPar
L’objectif final est de pouvoir faire ceci ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
livre1 = Livre(\PYGZdq{}A very nice book\PYGZdq{}, \PYGZdq{}F. Dupont\PYGZdq{}, 2014)
livre2 = Livre(\PYGZdq{}A very smart book\PYGZdq{}, \PYGZdq{}A. Einstein\PYGZdq{}, 1923)
livre3 = Livre(\PYGZdq{}A very stupid comic\PYGZdq{}, \PYGZdq{}D. Duck\PYGZdq{}, 1937)

bibliographie = Bibliographie([book1, book2, book3])
\end{sphinxVerbatim}

\sphinxAtStartPar
Maintenant que tout est fait sous forme d’objet, on peut imaginer écrire plusieurs méthode :
\begin{itemize}
\item {} 
\sphinxAtStartPar
Écrire une méthode \sphinxcode{\sphinxupquote{filter\_by\_year}} qui fait une nouvelle bibliographie ne contenant que les livres d’une année donée.

\item {} 
\sphinxAtStartPar
Écrire une méthode \sphinxcode{\sphinxupquote{to\_html}} qui formate correctement la bibliographie. La méthode de la classe Bibliographie devra appeler une méthode pour chaque Livre.

\end{itemize}

\sphinxAtStartPar
Et en HTML ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}table\PYGZgt{}
    \PYGZlt{}thead\PYGZgt{}
        \PYGZlt{}tr\PYGZgt{} \PYGZlt{}th\PYGZgt{}Auteur\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Titre\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Année\PYGZlt{}/th\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
    \PYGZlt{}/thead\PYGZgt{}
    \PYGZlt{}tbody\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}F. Dupont\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}2014\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very nice book\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}A. Einstein\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}1923\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very smart book\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}D. Duck\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}1937\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very stupid comic\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
    \PYGZlt{}/tbody\PYGZgt{}
\PYGZlt{}/table\PYGZgt{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Remarque : si un objet possède une méthode \sphinxcode{\sphinxupquote{\_repr\_html\_}}, alors le jupyter notebook utilsera automatiquement la représentation en HTML. Rajouter cette méthode (qui appelera to\_html).


\subsubsection{Système de calcul formel}
\label{\detokenize{cours6_objet_exercices:systeme-de-calcul-formel}}
\sphinxAtStartPar
\sphinxstyleemphasis{Cet exercice est à but purement pédagogique. Pour utiliser un système de calcul formel sous Python, la librairie \sphinxcode{\sphinxupquote{sympy}} existe et fonctionnera bien mieux que ce que l’on va faire !}

\sphinxAtStartPar
L’objectif de ce TD est de réaliser un système de calcul formel qui permettra de manipuler des expressions algébriques simples et de réaliser des opérations simples. Par exemple, on souhaite pouvoir effectuer ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{s} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y} \PYG{o}{+} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{*}\PYG{n}{y}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Dérivée par rapport à x}
\end{sphinxVerbatim}

\sphinxAtStartPar
Chaque expression sera représentée par un arbre. Les feuilles de l’arbre seront soit les symboles soit les constantes numériques. Les noeuds seront des fonctions à un ou plusieurs argument (sinus, somme, opposé, …). Le nom de la classe du noeud désignera la fonction. Les “enfants” du noeud seront les arguments de la fonction. Par exemple l’expression ci dessus correspondra à l’objet suivant ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} sA : 2*x*y}
\PYG{n}{sA} \PYG{o}{=} \PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} sB : sin(x)*y}
\PYG{n}{sB} \PYG{o}{=} \PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{s} \PYG{o}{=} \PYG{n}{Sum}\PYG{p}{(}\PYG{n}{sA}\PYG{p}{,} \PYG{n}{sB}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{Structure du programme}
\label{\detokenize{cours6_objet_exercices:structure-du-programme}}
\sphinxAtStartPar
Voici la structure de base ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Expr}\PYG{p}{(}\PYG{n+nb}{object}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Node}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Leave}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour les feuilles ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Ensuite on définit les fonctions ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Les opérateurs sont des fonctions comme les autres, mais elle seront simplement affichées différemment ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass} 
\PYG{c+c1}{\PYGZsh{} Idem pour Sub, Div, Prod, Pow}

\PYG{k}{class} \PYG{n+nc}{UnitaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Neg}\PYG{p}{(}\PYG{n}{UnitaryOperateor}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Les fonction mathématiques, qui prennent un seul argument ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}


\paragraph{Questions}
\label{\detokenize{cours6_objet_exercices:questions}}
\sphinxAtStartPar
On va procéder étape par étape. Il sera plus facile de commencer par les feuilles avant d’écrire la structure globale.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire le \sphinxcode{\sphinxupquote{\_\_init\_\_}} de la classe Symbol et Number

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Ecrire une méthode \sphinxcode{\sphinxupquote{display}} sur ces classes afin de renvoyer une chaîne de caractère contenant le symbole ou le nombre

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Ecrire le \sphinxcode{\sphinxupquote{\_\_init\_\_}} de la class Sin ainsi que le display. Le display devra appeler le display de l’argument. Par exemple ceci devra fonctionner ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\PYG{g+go}{sin(x)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\PYG{g+go}{sin(sin(x))}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Généraliser le \sphinxstylestrong{init} et le display de \sphinxcode{\sphinxupquote{Sin}} afin de le mettre dans la class MathFunction. On rajoutera un attribut de classe à chaque sous classe de MathFunction ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{funtion\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sin}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{4}
\item {} 
\sphinxAtStartPar
Faire de même pour les opérateurs binaires. On pourra commencer par simplement le faire pour Sum, puis généraliser avec un attribut de classe ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{5}
\item {} 
\sphinxAtStartPar
A ce stade quelque chose comme ceci devrait fonctionner ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{Sum}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Prod}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Rajouter les méthodes \sphinxcode{\sphinxupquote{\_\_add\_\_}}, \sphinxcode{\sphinxupquote{\_\_mul\_\_}}, etc à la classe Expr afin de pouvoir écrire :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{6}
\item {} 
\sphinxAtStartPar
Ecrire les méthodes \sphinxcode{\sphinxupquote{evaluate}} afin de calculer la valeur numérique d’une expression. Cette méthode fonctionnera de la sorte :

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{expr} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{expr}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{n}{x}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{y}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
On aura donc le protocole suivant ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Le dictionnaire kwd sera passé récursivement jusqu’aux feuilles et sera utilisé pour évaluer les symboles.

\sphinxAtStartPar
Les opérateurs binaires numériques sont définis dans le module \sphinxcode{\sphinxupquote{operator}} et les fonctions dans le module \sphinxcode{\sphinxupquote{math}}. Afin de factoriser le code, on rajoutera donc simplement un attribut de classe du type \sphinxcode{\sphinxupquote{operator\_function = operator.add}} pour les opérateurs binaires et \sphinxcode{\sphinxupquote{math\_function = math.sin}} pour les fonctions.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{7}
\item {} 
\sphinxAtStartPar
Maintenant que vous avez compris le principe, il devrait être facile d’écrire une méthode \sphinxcode{\sphinxupquote{diff}} qui effectue la dérivée par rapport à une variable !

\item {} 
\sphinxAtStartPar
Reste à simplifier les expressions. Une technique consiste à créer des règles de simplifications sous forme de méthode que l’on regroupe ensuite dans une liste ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{operator\PYGZus{}function} \PYG{o}{=} \PYG{n}{operator}\PYG{o}{.}\PYG{n}{add}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg1}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)} \PYG{o+ow}{and} 
                        \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg2}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg1}\PYG{o}{.}\PYG{n}{value} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg2}\PYG{o}{.}\PYG{n}{value}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{pass}

    \PYG{n}{liste\PYGZus{}simplication} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} 
                    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} 
\end{sphinxVerbatim}

\sphinxAtStartPar
Ensuite, il faut réussir à appeler correctement et de façon recursive ces méthodes…
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{9}
\item {} 
\sphinxAtStartPar
Pour l’affichage des opérateurs binaires, les règles de priorité peuvent être utilisées pour éviter de mettre trop de parenthèses. Par exemple, dans le cas \sphinxcode{\sphinxupquote{a*(b+c)}}, la multiplication appelle le display de l’addition. Comme elle est prioritaire, l’addition va renvoyer le résulat avec des parenthèses. Dans le cas inverse \sphinxcode{\sphinxupquote{a + b*c}}, c’est inutile. Il faut donc que le display d’un opérateur passe sa priorité à ses enfants lors de l’appel de display. Implémenter ce principe.

\end{enumerate}


\subsection{Utilisation de numpy}
\label{\detokenize{cours5_numpy_exercices:utilisation-de-numpy}}\label{\detokenize{cours5_numpy_exercices::doc}}

\subsubsection{Calcul Monte\sphinxhyphen{}Carlo de la surface d’un disque}
\label{\detokenize{cours5_numpy_exercices:calcul-monte-carlo-de-la-surface-d-un-disque}}
\sphinxAtStartPar
On rappelle que la fonction np.random.rand permet de créer une distribution uniforme de points entre 0 et 1.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Créer des tableaux X et Y de variables uniforméments réparties entre \sphinxhyphen{}1 et 1

\item {} 
\sphinxAtStartPar
Evaluer la probabilité que le point de coordonnées (x, y) soit dans le cercle unité ?

\item {} 
\sphinxAtStartPar
En déduire une estimation ed \(\pi\)

\item {} 
\sphinxAtStartPar
De la même façon, évaluer le volume d’une sphère en dimension 13

\end{enumerate}


\subsubsection{Calcul de la moyenne}
\label{\detokenize{cours5_numpy_exercices:calcul-de-la-moyenne}}
\sphinxAtStartPar
Un tableau numpy contient les notes d’une classe. Chaque ligne correspond à un élève et chaque colone à un examen.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}

\PYG{n}{N\PYGZus{}eleves} \PYG{o}{=} \PYG{l+m+mi}{35}
\PYG{n}{N\PYGZus{}examens} \PYG{o}{=} \PYG{l+m+mi}{3}

\PYG{n}{notes} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{N\PYGZus{}eleves}\PYG{p}{,} \PYG{n}{N\PYGZus{}examens}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{20}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Calculer la moyenne de chaque élève. Calculer la moyenne pour chaque examen.

\item {} 
\sphinxAtStartPar
Calculer la moyenne de chaque élève, sachant que les coeficients pour les 3 examens sont de 1, 3 et 2.

\end{enumerate}


\subsection{Exercices sur les graphiques}
\label{\detokenize{cours7_graphiques_exercices:exercices-sur-les-graphiques}}\label{\detokenize{cours7_graphiques_exercices::doc}}

\subsubsection{Population}
\label{\detokenize{cours7_graphiques_exercices:population}}
\sphinxAtStartPar
À partir de la page {[}https://fr.wikipedia.org/wiki/D\%C3\%A9mographie\_de\_l\%27Europe\}(https://fr.wikipedia.org/wiki/D\%C3\%A9mographie\_de\_l\%27Europe) et de la page \sphinxurl{https://en.wikipedia.org/wiki/Demographics\_of\_France} tracer sur un même graph la population du monde, de l’europe et de la france depuis 1800.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{europe\PYGZus{}annees} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1800}\PYG{p}{,} \PYG{l+m+mi}{1850}\PYG{p}{,} \PYG{l+m+mi}{1900}\PYG{p}{,} \PYG{l+m+mi}{1950}\PYG{p}{,} \PYG{l+m+mi}{1960}\PYG{p}{,} \PYG{l+m+mi}{1970}\PYG{p}{,} \PYG{l+m+mi}{1980}\PYG{p}{,} \PYG{l+m+mi}{1990}\PYG{p}{,} \PYG{l+m+mi}{2000}\PYG{p}{,} \PYG{l+m+mi}{2010}\PYG{p}{,} \PYG{l+m+mi}{2019}\PYG{p}{]}
\PYG{n}{europe\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{187000000} \PYG{p}{,} \PYG{l+m+mi}{266000000} \PYG{p}{,} \PYG{l+m+mi}{420000000} \PYG{p}{,} \PYG{l+m+mi}{549329000} \PYG{p}{,} \PYG{l+m+mi}{605407000} \PYG{p}{,} \PYG{l+m+mi}{656919000} \PYG{p}{,} \PYG{l+m+mi}{693567000} \PYG{p}{,} \PYG{l+m+mi}{720858000} \PYG{p}{,} \PYG{l+m+mi}{725558000} \PYG{p}{,} \PYG{l+m+mi}{736413000} \PYG{p}{,} \PYG{l+m+mi}{747183000}\PYG{p}{]}
\PYG{n}{monde\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{813000000}\PYG{p}{,} \PYG{l+m+mi}{1128000000}\PYG{p}{,} \PYG{l+m+mi}{1550000000}\PYG{p}{,} \PYG{l+m+mi}{2536431000} \PYG{p}{,} \PYG{l+m+mi}{3034950000} \PYG{p}{,} \PYG{l+m+mi}{3700437000} \PYG{p}{,} \PYG{l+m+mi}{4458004000} \PYG{p}{,} \PYG{l+m+mi}{5327231000} \PYG{p}{,} \PYG{l+m+mi}{6143494000} \PYG{p}{,} \PYG{l+m+mi}{6956824000} \PYG{p}{,} \PYG{l+m+mi}{7713468000} \PYG{p}{,} \PYG{p}{]}

\PYG{n}{france\PYGZus{}annees} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1806}\PYG{p}{,} \PYG{l+m+mi}{1821}\PYG{p}{,} \PYG{l+m+mi}{1831}\PYG{p}{,} \PYG{l+m+mi}{1841}\PYG{p}{,} \PYG{l+m+mi}{1851}\PYG{p}{,} \PYG{l+m+mi}{1872}\PYG{p}{,} \PYG{l+m+mi}{1881}\PYG{p}{,} \PYG{l+m+mi}{1891}\PYG{p}{,} \PYG{l+m+mi}{1901}\PYG{p}{,} \PYG{l+m+mi}{1911}\PYG{p}{,} \PYG{l+m+mi}{1921}\PYG{p}{,} \PYG{l+m+mi}{1931}\PYG{p}{,} \PYG{l+m+mi}{1946}\PYG{p}{,} \PYG{l+m+mi}{1950}\PYG{p}{,} \PYG{l+m+mi}{1960}\PYG{p}{,} \PYG{l+m+mi}{1970}\PYG{p}{,} \PYG{l+m+mi}{1980}\PYG{p}{,} \PYG{l+m+mi}{1990}\PYG{p}{,} \PYG{l+m+mi}{2000}\PYG{p}{,} \PYG{l+m+mi}{2010}\PYG{p}{,} \PYG{l+m+mi}{2020}\PYG{p}{,} \PYG{l+m+mi}{2022}\PYG{p}{]}
\PYG{n}{france\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{29107000}\PYG{p}{,} \PYG{l+m+mi}{30462000}\PYG{p}{,} \PYG{l+m+mi}{32569000}\PYG{p}{,} \PYG{l+m+mi}{34230000}\PYG{p}{,} \PYG{l+m+mi}{35783000}\PYG{p}{,} \PYG{l+m+mi}{36103000}\PYG{p}{,} \PYG{l+m+mi}{37672000}\PYG{p}{,} \PYG{l+m+mi}{38343000}\PYG{p}{,} \PYG{l+m+mi}{38962000}\PYG{p}{,} \PYG{l+m+mi}{39605000}\PYG{p}{,} \PYG{l+m+mi}{39108000}\PYG{p}{,} \PYG{l+m+mi}{41524000}\PYG{p}{,} \PYG{l+m+mi}{40125230}\PYG{p}{,} \PYG{l+m+mi}{41647258}\PYG{p}{,} \PYG{l+m+mi}{45464797}\PYG{p}{,} \PYG{l+m+mi}{50528219}\PYG{p}{,} \PYG{l+m+mi}{53731387}\PYG{p}{,} \PYG{l+m+mi}{56577000}\PYG{p}{,} \PYG{l+m+mi}{58858198}\PYG{p}{,} \PYG{l+m+mi}{62765235}\PYG{p}{,} \PYG{l+m+mi}{67287241}\PYG{p}{,} \PYG{l+m+mi}{67813396}\PYG{p}{]}
\end{sphinxVerbatim}


\subsubsection{Statistiques sur le COVID\sphinxhyphen{}19}
\label{\detokenize{cours7_graphiques_exercices:statistiques-sur-le-covid-19}}
\sphinxAtStartPar
Le fichier \sphinxcode{\sphinxupquote{data\_covid.dat}} contient trois colonnes : la première est la date, la seconde le nombre cumulé de décès en hôpital liés au COVID\sphinxhyphen{}19 et la troisième le nombre cumulé de décès en EHPAD liés au COVID\sphinxhyphen{}19.

\sphinxAtStartPar
Le fichier commence le lundi 2 mars 2020. C’est l’origine de nos dates (jour 0). Dans la suite, on entend par date ou numéro du jour le nombre de jours écoulés depuis le 2 mars 2020. Ce fichier a été extrait de la base de donnée en janvier 2021 (il ne comprend donc que la première et début de la deuxième vague).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Lire ce fichier à l’aide de la commande loadtxt, et extraire les trois colonnes dans trois variables.

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Tracer le graphe du nombre de décès cumulé en hôpital et en EHPAD en fonction de la date.

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Ajouter sur le même graph le nombre total de décés cumulé

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Au cours des 30 premiers jours, le nombre cumulé de décès en hôpital suit une loi proche d’une exponentielle. Tracer cette courbe en échelle semi\sphinxhyphen{}logarithmique.

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{4}
\item {} 
\sphinxAtStartPar
Au cours de ces 30 premiers jours, le nombre de décès peut s’écrire \(N(j) = N_0(1+a)^{j-j_0}\). Tracer cette courbe avec les paramètres pour lesquels elle s’ajuste bien à l’œil. Quelle est la valeur de \(a\)? (Nous ne demandons pas dans cette question de faire un ajustement, mais simplement de superposer les deux courbes).

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{5}
\item {} 
\sphinxAtStartPar
Calculer le tableau du nombre quotidien de décès en hôpital et en EHPAD en fonction de la date. Et tracer la courbe pour l’hôpital. (Remarque, il est possible de faire cette opération sans boucle )

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{6}
\item {} 
\sphinxAtStartPar
Quel jour a connu le plus grand nombre de décès en hôpital ? (on utilisera la fonction \sphinxcode{\sphinxupquote{argmax}})

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{7}
\item {} 
\sphinxAtStartPar
Combien de jours ont connu plus de 50 décés en EHPAD ?

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{8}
\item {} 
\sphinxAtStartPar
Comment extraire en une ligne le nombre de décés pour un jour de la semaine donné ?

\end{enumerate}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{9}
\item {} 
\sphinxAtStartPar
Calculer et tracer le nombre total de décès en hôpital par jour de la semaine. Pour quel jour de la semaine enregistre\sphinxhyphen{}t\sphinxhyphen{}on le moins de décès ?

\end{enumerate}


\subsection{Exercices sur les objets}
\label{\detokenize{exercices_geographie:exercices-sur-les-objets}}\label{\detokenize{exercices_geographie::doc}}

\subsubsection{Repertoire des pays}
\label{\detokenize{exercices_geographie:repertoire-des-pays}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Créer un objet représentant un pays. Celui\sphinxhyphen{}ci aura plusieurs attributs :

\end{enumerate}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Nom du pays

\item {} 
\sphinxAtStartPar
Nom de la capitale

\item {} 
\sphinxAtStartPar
Superficie

\item {} 
\sphinxAtStartPar
Population

\item {} 
\sphinxAtStartPar
PIB

\end{itemize}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Rajouter à cet objet une méthode permettant de calculer la densité de population et la PIB par habitant.

\item {} 
\sphinxAtStartPar
Créer un objet représentant un ensemble des pays. Le remplir avec quelque pays.

\item {} 
\sphinxAtStartPar
Créer une méthode qui renvoie la liste des pays classés par ordre de population (on pourra utiliser la fonction sorted avec l’arguemnt optionnel key)

\end{enumerate}


\section{Correction}
\label{\detokenize{correction:correction}}\label{\detokenize{correction::doc}}

\subsection{Exercices sur les fonctions}
\label{\detokenize{cours1_fonctions_corr_exercices:exercices-sur-les-fonctions}}\label{\detokenize{cours1_fonctions_corr_exercices::doc}}

\subsubsection{Que fait cette fonction ?}
\label{\detokenize{cours1_fonctions_corr_exercices:que-fait-cette-fonction}}
\sphinxAtStartPar
Répondre aux questions de cet exercice sans s’aider de l’ordinateur, puis vérifier.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
On souhaite calculer \(\sum \frac{1}{i}\). Quelle est la différence entre les différentes fonctions si dessous ? Laquelle est la “bonne” fonction, laquelle la “pire”

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}1}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{output}\PYG{p}{)}
        
\PYG{n}{serie\PYGZus{}1}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
        
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}2}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
        \PYG{k}{return} \PYG{n}{output}

\PYG{n}{serie\PYGZus{}2}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}    
    
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}3}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{output}\PYG{p}{)}
    
\PYG{n}{serie\PYGZus{}3}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}

        
\PYG{k}{def} \PYG{n+nf}{serie\PYGZus{}4}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{output} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{i}
    \PYG{k}{return} \PYG{n}{output}

\PYG{n}{serie\PYGZus{}4}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1.0
1.5
1.8333333333333333
2.083333333333333
2.283333333333333
2.283333333333333
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2.283333333333333
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Parmi tous les appels de la fonction \sphinxcode{\sphinxupquote{f}} ci dessous, lequels vont faire une erreur ? Quelle sera l’erreur ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{a}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n}{b}

\PYG{n}{p} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{Bonjour}\PYG{p}{,} \PYG{n}{Hello}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{a}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{b}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{a}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}
\PYG{n}{f}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bonjour, Hello}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{p}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{o}{*}\PYG{n}{p}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ? Dans quels fonction \sphinxcode{\sphinxupquote{x}} est une variable globale ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f1}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{f2}\PYG{p}{(}\PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{f3}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{def} \PYG{n+nf}{f4}\PYG{p}{(}\PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{f1}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{5}
\PYG{n}{f1}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f2}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}    
\PYG{n}{f3}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n}{f4}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Attention, il y a un piège ici.}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
3
3
16
5
3
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gt}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{n+ne}{UnboundLocalError}\PYG{g+gWhitespace}{                         }Traceback (most recent call last)
\PYG{o}{\PYGZlt{}}\PYG{n}{ipython}\PYG{o}{\PYGZhy{}}\PYG{n+nb}{input}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{3}\PYG{o}{\PYGZhy{}}\PYG{n}{bf7078096a9a}\PYG{o}{\PYGZgt{}} \PYG{o+ow}{in} \PYG{o}{\PYGZlt{}}\PYG{n}{module}\PYG{o}{\PYGZgt{}}
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{21} \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{22} \PYG{n}{f3}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n+ne}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} }\PYG{l+m+mi}{23} \PYG{n}{f4}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}

\PYG{n+nn}{\PYGZlt{}ipython\PYGZhy{}input\PYGZhy{}3\PYGZhy{}bf7078096a9a\PYGZgt{}} in \PYG{n+ni}{f4}\PYG{n+nt}{(y)}
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{11} 
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{12} \PYG{k}{def} \PYG{n+nf}{f4}\PYG{p}{(}\PYG{n}{y}\PYG{p}{)}\PYG{p}{:}
\PYG{n+ne}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} }\PYG{l+m+mi}{13}     \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{y}\PYG{p}{)}
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{14}     \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{15}
\PYG{g+gWhitespace}{     }\PYG{l+m+mi}{15} 

\PYG{n+ne}{UnboundLocalError}: local variable \PYGZsq{}x\PYGZsq{} referenced before assignment
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sin}

\PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mf}{3.141592653589793}

\PYG{k}{def} \PYG{n+nf}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}
    
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{return} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{pi} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{g}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
0.0
1.0
0.0
0.0
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Qu’est il affiché ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{o}{*}\PYG{n}{a} \PYG{o}{+} \PYG{l+m+mi}{10}\PYG{o}{*}\PYG{n}{b} \PYG{o}{+} \PYG{n}{c}\PYG{p}{)}

\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{n}{b} \PYG{o}{=} \PYG{l+m+mi}{2}
\PYG{n}{c} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{c}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{a}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{o}{=}\PYG{n}{c}\PYG{p}{,} \PYG{n}{c}\PYG{o}{=}\PYG{n}{b}\PYG{p}{)}
\PYG{n}{f}\PYG{p}{(}\PYG{n}{a}\PYG{o}{=}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{o}{=}\PYG{n}{a}\PYG{p}{,} \PYG{n}{c}\PYG{o}{=}\PYG{n}{a}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
123
321
132
111
\end{sphinxVerbatim}


\subsubsection{Fonction cos\_deg}
\label{\detokenize{cours1_fonctions_corr_exercices:fonction-cos-deg}}
\sphinxAtStartPar
Ecrire une fonction qui renvoie le cosinus d’un angle exprimé en degré

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{cos}\PYG{p}{,} \PYG{n}{pi}

\PYG{k}{def} \PYG{n+nf}{cos\PYGZus{}deg}\PYG{p}{(}\PYG{n}{angle}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{cos}\PYG{p}{(}\PYG{n}{angle}\PYG{o}{/}\PYG{l+m+mi}{180}\PYG{o}{*}\PYG{n}{pi}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Volume d’un cône}
\label{\detokenize{cours1_fonctions_corr_exercices:volume-d-un-cone}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui renoit le volume d’un cône de rayon \(r\) et hauteur \(h\).

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui envoit le volume d’un tronc de cône de rayon \(r_1\) et \(r_2\).

\item {} 
\sphinxAtStartPar
Ecrire une seule fonction pour laquelle le tronc de cône est par défaut un cône (i.e. \(r_2=1\))

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{pi}

\PYG{k}{def} \PYG{n+nf}{volume\PYGZus{}cone}\PYG{p}{(}\PYG{n}{h}\PYG{p}{,} \PYG{n}{r}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{h}\PYG{o}{*}\PYG{n}{r}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{o}{/}\PYG{l+m+mi}{3}

\PYG{k}{def} \PYG{n+nf}{volume\PYGZus{}tronc\PYGZus{}cone}\PYG{p}{(}\PYG{n}{h}\PYG{p}{,} \PYG{n}{r1}\PYG{p}{,} \PYG{n}{r2}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{h}\PYG{o}{*}\PYG{p}{(}\PYG{n}{r1}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{\PYGZhy{}} \PYG{n}{r2}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{3}

\PYG{k}{def} \PYG{n+nf}{volume\PYGZus{}tronc\PYGZus{}cone}\PYG{p}{(}\PYG{n}{h}\PYG{p}{,} \PYG{n}{r1}\PYG{p}{,} \PYG{n}{r2}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{pi}\PYG{o}{*}\PYG{n}{h}\PYG{o}{*}\PYG{p}{(}\PYG{n}{r1}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{\PYGZhy{}} \PYG{n}{r2}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{3}
\end{sphinxVerbatim}


\subsubsection{Fonction datetime}
\label{\detokenize{cours1_fonctions_corr_exercices:fonction-datetime}}
\sphinxAtStartPar
Importer la fonction \sphinxcode{\sphinxupquote{datetime}} du module \sphinxcode{\sphinxupquote{datetime}} et regarder se documentation.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Utiliser cette fonction pour entrer votre date de naissance (et l’heure si vous la connaissez) en nomant explicitement les arguments.

\item {} 
\sphinxAtStartPar
Même question mais après avoir mis les arguments dans une liste

\item {} 
\sphinxAtStartPar
Dans un dictionnaire

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{datetime} \PYG{k+kn}{import} \PYG{n}{date}\PYG{p}{,} \PYG{n}{datetime}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date}\PYG{p}{(}\PYG{n}{year}\PYG{o}{=}\PYG{l+m+mi}{2011}\PYG{p}{,} \PYG{n}{month}\PYG{o}{=}\PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{day}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{liste} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{2011}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date}\PYG{p}{(}\PYG{o}{*}\PYG{n}{liste}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{parametre} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{year}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mi}{2011}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{month}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mi}{6}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{day}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{\PYGZcb{}}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{parametre}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2011\PYGZhy{}06\PYGZhy{}02
2011\PYGZhy{}06\PYGZhy{}02
2011\PYGZhy{}06\PYGZhy{}02
\end{sphinxVerbatim}


\subsubsection{Fonction date en français}
\label{\detokenize{cours1_fonctions_corr_exercices:fonction-date-en-francais}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction \sphinxcode{\sphinxupquote{date\_en\_francais}} qui renvoie un objet \sphinxcode{\sphinxupquote{date}} mais dont les arguments sont en français (\sphinxcode{\sphinxupquote{annee}}, \sphinxcode{\sphinxupquote{mois}}, \sphinxcode{\sphinxupquote{jour}})

\item {} 
\sphinxAtStartPar
Idem avec la fonction \sphinxcode{\sphinxupquote{datetime}} du module \sphinxcode{\sphinxupquote{datetime}} (il faudra rajouter les arguments optionels \sphinxcode{\sphinxupquote{heure}}, \sphinxcode{\sphinxupquote{minute}}, \sphinxcode{\sphinxupquote{seconde}})

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{date\PYGZus{}fr}\PYG{p}{(}\PYG{n}{annee}\PYG{p}{,} \PYG{n}{mois}\PYG{p}{,} \PYG{n}{jour}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{date}\PYG{p}{(}\PYG{n}{annee}\PYG{p}{,} \PYG{n}{mois}\PYG{p}{,} \PYG{n}{jour}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{date\PYGZus{}fr}\PYG{p}{(}\PYG{n}{annee}\PYG{o}{=}\PYG{l+m+mi}{2011}\PYG{p}{,} \PYG{n}{mois}\PYG{o}{=}\PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{jour}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{datetime\PYGZus{}fr}\PYG{p}{(}\PYG{n}{annee}\PYG{p}{,} \PYG{n}{mois}\PYG{p}{,} \PYG{n}{jour}\PYG{p}{,} \PYG{n}{heure}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{minute}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{seconde}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{datetime}\PYG{p}{(}\PYG{n}{annee}\PYG{p}{,} \PYG{n}{mois}\PYG{p}{,} \PYG{n}{jour}\PYG{p}{,} \PYG{n}{heure}\PYG{p}{,} \PYG{n}{minute}\PYG{p}{,} \PYG{n}{seconde}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{datetime\PYGZus{}fr}\PYG{p}{(}\PYG{n}{annee}\PYG{o}{=}\PYG{l+m+mi}{2011}\PYG{p}{,} \PYG{n}{mois}\PYG{o}{=}\PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{jour}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{heure}\PYG{o}{=}\PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2011\PYGZhy{}06\PYGZhy{}02
2011\PYGZhy{}06\PYGZhy{}02 15:00:00
\end{sphinxVerbatim}


\subsubsection{Polynômes}
\label{\detokenize{cours1_fonctions_corr_exercices:polynomes}}
\sphinxAtStartPar
On considère un polynôme de degrés \(n\) : \(a_0 + a_1x + a_2x^2 + ... + a_n x^n\).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction \sphinxcode{\sphinxupquote{eval\_polynome\_troisieme\_degres(x, a\_0, a\_1, a\_2, a\_3)}} qui évalue un tel polynôme en \(x\).

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui permettra d’évaluer un polynôme de degré inférieur à 4 est que l’on pourra utiliser de la façon suivante :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
 eval\PYGZus{}polynome(x, 3, 4) \PYGZsh{} 3x + 4
 eval\PYGZus{}polynome(x, a\PYGZus{}0=2, a\PYGZus{}2=4) \PYGZsh{} 4x\PYGZca{}2 + 4
\end{sphinxVerbatim}

\item {} 
\sphinxAtStartPar
Faire en sorte que cette fonction marche pour n’importe quel degré.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{eval\PYGZus{}polynome\PYGZus{}troisieme\PYGZus{}degres}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{a\PYGZus{}0}\PYG{p}{,} \PYG{n}{a\PYGZus{}1}\PYG{p}{,} \PYG{n}{a\PYGZus{}2}\PYG{p}{,} \PYG{n}{a\PYGZus{}3}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{a\PYGZus{}0} \PYG{o}{+} \PYG{n}{a\PYGZus{}1}\PYG{o}{*}\PYG{n}{x} \PYG{o}{+} \PYG{n}{a\PYGZus{}2}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n}{a\PYGZus{}3}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{3}

\PYG{k}{def} \PYG{n+nf}{eval\PYGZus{}polynome}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{a\PYGZus{}0}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{a\PYGZus{}1}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{a\PYGZus{}2}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{a\PYGZus{}3}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{a\PYGZus{}4}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{a\PYGZus{}0} \PYG{o}{+} \PYG{n}{a\PYGZus{}1}\PYG{o}{*}\PYG{n}{x} \PYG{o}{+} \PYG{n}{a\PYGZus{}2}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n}{a\PYGZus{}3}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{3} \PYG{o}{+} \PYG{n}{a\PYGZus{}4}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{4}

\PYG{k}{def} \PYG{n+nf}{eval\PYGZus{}polynome}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{o}{*}\PYG{n}{a}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{val\PYGZus{}a} \PYG{o+ow}{in} \PYG{n+nb}{enumerate}\PYG{p}{(}\PYG{n}{a}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{+}\PYG{o}{=} \PYG{n}{val\PYGZus{}a}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{o}{*}\PYG{n}{i}
    \PYG{k}{return} \PYG{n}{output}
   
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{10}
\PYG{n}{eval\PYGZus{}polynome}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
43
\end{sphinxVerbatim}


\subsubsection{Equation du second degré}
\label{\detokenize{cours1_fonctions_corr_exercices:equation-du-second-degre}}
\sphinxAtStartPar
On souhaite trouver les solutions de l’équation : \(ax^2 + bx + c=0\). On rappelle que pour cela on calcule le discriminant \(\Delta = b^2 - 4*a*c\).
\begin{itemize}
\item {} 
\sphinxAtStartPar
Si \(\Delta>0\), les solutions sont \(\frac{-b \pm \sqrt{Delta}}{2a}\)

\item {} 
\sphinxAtStartPar
Si \(\Delta=0\), il y a une solution (double) \(\frac{-b }{2a}\)

\item {} 
\sphinxAtStartPar
Si \(\Delta<0\), les solutions sont \(\frac{-b \pm i\sqrt{Delta}}{2a}\)

\end{itemize}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction equation\_second\_degre qui donne les solutions.

\item {} 
\sphinxAtStartPar
Tester l’équation \(x^2 -3x + 2\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui résout une équation du premier degré.

\item {} 
\sphinxAtStartPar
Faire en sorte que cette fonction soit appelée lorsque \(a=0\).

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sqrt}

\PYG{k}{def} \PYG{n+nf}{equation\PYGZus{}seconde\PYGZus{}degre}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{Delta} \PYG{o}{=} \PYG{n}{b}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{\PYGZhy{}} \PYG{l+m+mi}{4}\PYG{o}{*}\PYG{n}{a}\PYG{o}{*}\PYG{n}{c}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{+} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{Delta}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{\PYGZhy{}} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{Delta}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{o}{\PYGZhy{}}\PYG{n}{b}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{+} \PYG{n}{sqrt}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{Delta}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{1}\PYG{n}{J}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{\PYGZhy{}} \PYG{n}{sqrt}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{Delta}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{1}\PYG{n}{J}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}
    
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{equation\PYGZus{}seconde\PYGZus{}degre}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{equation\PYGZus{}premier\PYGZus{}degre}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{o}{\PYGZhy{}}\PYG{n}{b}\PYG{o}{/}\PYG{n}{a}

\PYG{k}{def} \PYG{n+nf}{equation\PYGZus{}seconde\PYGZus{}degre}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{a}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{equation\PYGZus{}premier\PYGZus{}degra}\PYG{p}{(}\PYG{n}{b}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}
    \PYG{n}{Delta} \PYG{o}{=} \PYG{n}{b}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{\PYGZhy{}} \PYG{l+m+mi}{4}\PYG{o}{*}\PYG{n}{a}\PYG{o}{*}\PYG{n}{c}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{+} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{Delta}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{\PYGZhy{}} \PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{Delta}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{o}{\PYGZhy{}}\PYG{n}{b}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{Delta}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{+} \PYG{n}{sqrt}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{Delta}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{1}\PYG{n}{J}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{b} \PYG{o}{\PYGZhy{}} \PYG{n}{sqrt}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{Delta}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{1}\PYG{n}{J}\PYG{p}{)}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{a}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} Dans cet exercice, les else ou elif sont inutiles.}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
(2.0, 1.0)
\end{sphinxVerbatim}


\subsubsection{Coordonnée polaire d’un nombre complexe}
\label{\detokenize{cours1_fonctions_corr_exercices:coordonnee-polaire-d-un-nombre-complexe}}
\sphinxAtStartPar
On considère une nombre complexe \(z\) et sa représentation polaire : \(z = re^{i\theta}\)
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui à partir de \(r\) et \(\theta\) renvoie \(z\)

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{cos}\PYG{p}{,} \PYG{n}{sin}\PYG{p}{,} \PYG{n}{pi}

\PYG{k}{def} \PYG{n+nf}{from\PYGZus{}polar}\PYG{p}{(}\PYG{n}{r}\PYG{p}{,} \PYG{n}{theta}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{n}{r}\PYG{o}{*}\PYG{n}{cos}\PYG{p}{(}\PYG{n}{theta}\PYG{p}{)} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{n}{J}\PYG{o}{*} \PYG{n}{r}\PYG{o}{*}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{theta}\PYG{p}{)}
    
\PYG{n}{from\PYGZus{}polar}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
(6.123233995736766e\PYGZhy{}17+1j)
\end{sphinxVerbatim}


\subsubsection{Nombres premiers}
\label{\detokenize{cours1_fonctions_corr_exercices:nombres-premiers}}
\sphinxAtStartPar
Ecrire une fonction qui renvoie True si un nombre est premier et False sinon. Pour cela, on testera si le nombre
est divisible par les entiers successifs à partir de 2.

\sphinxAtStartPar
On admet que si \(n\) n’est pas premier, alors il existe un entier \(p \ge 2\) tel que \(p^2 \le n\) qui est un diviseur de \(n\).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire la fonction à l’aide d’une boucle.

\item {} 
\sphinxAtStartPar
Combien y a t\sphinxhyphen{}il d’années au XXIème siècle qui sont des nombres premiers ?

\item {} 
\sphinxAtStartPar
Si vous n’êtes pas convaincu que c’est mieux avec des fonctions, faites le sans…

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{est\PYGZus{}premier}\PYG{p}{(}\PYG{n}{n}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{p} \PYG{o}{=} \PYG{l+m+mi}{2}
    \PYG{k}{while} \PYG{n}{p}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{o}{\PYGZlt{}}\PYG{o}{=}\PYG{n}{n}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{n}\PYG{o}{\PYGZpc{}}\PYG{k}{p}==0:
            \PYG{k}{return} \PYG{k+kc}{False}
        \PYG{n}{p} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
    \PYG{k}{return} \PYG{k+kc}{True}

\PYG{n}{est\PYGZus{}premier}\PYG{p}{(}\PYG{l+m+mi}{7}\PYG{p}{)}

\PYG{n}{count\PYGZus{}premier} \PYG{o}{=} \PYG{l+m+mi}{0}
\PYG{k}{for} \PYG{n}{annee} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{2001}\PYG{p}{,} \PYG{l+m+mi}{2101}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{est\PYGZus{}premier}\PYG{p}{(}\PYG{n}{annee}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{count\PYGZus{}premier} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Il y a }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{count\PYGZus{}premier}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{ années premières aux XXI siècle}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Mention}
\label{\detokenize{cours1_fonctions_corr_exercices:mention}}
\sphinxAtStartPar
Ecrire une fonction qui à partir de la note sur 20 donne la mention

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{mention}\PYG{p}{(}\PYG{n}{note}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n}{note}\PYG{o}{\PYGZgt{}}\PYG{o}{=}\PYG{l+m+mi}{18}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Felicitation}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{k}{if} \PYG{n}{note}\PYG{o}{\PYGZgt{}}\PYG{o}{=}\PYG{l+m+mi}{16}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Très bien}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{k}{if} \PYG{n}{note}\PYG{o}{\PYGZgt{}}\PYG{o}{=}\PYG{l+m+mi}{14}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bien}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{k}{if} \PYG{n}{note}\PYG{o}{\PYGZgt{}}\PYG{o}{=}\PYG{l+m+mi}{12}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Assez bien}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Pas de mention}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsection{Exercices sur les nombres}
\label{\detokenize{cours2_nombres_corr_exercices:exercices-sur-les-nombres}}\label{\detokenize{cours2_nombres_corr_exercices::doc}}

\subsubsection{Fonctions mathématiques}
\label{\detokenize{cours2_nombres_corr_exercices:fonctions-mathematiques}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Est ce que la fonction log est le logarithme décimal ou népérien ?

\item {} 
\sphinxAtStartPar
Calculer \(x = \sqrt{2}\) puis calculer \(x^2\). Que se passe\sphinxhyphen{}t\sphinxhyphen{}il ?

\item {} 
\sphinxAtStartPar
Calculer \(\arccos{\frac{\sqrt{2}}{2}}\) et comparer à sa valeur théorique.

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{log}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{log}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2.302585092994046
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sqrt}
\PYG{n}{sqrt}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2.0000000000000004
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{acos}\PYG{p}{,} \PYG{n}{pi}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{acos}\PYG{p}{(}\PYG{n}{sqrt}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{4}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
0.7853981633974483
0.7853981633974483
\end{sphinxVerbatim}


\subsubsection{Constante de structure fine}
\label{\detokenize{cours2_nombres_corr_exercices:constante-de-structure-fine}}
\sphinxAtStartPar
La constante de structure fine est définie en physique comme étant égale à
\begin{equation*}
\begin{split} 
\alpha = \frac{e^2}{2\epsilon_0 h c}
\end{split}
\end{equation*}
\sphinxAtStartPar
où
\begin{itemize}
\item {} 
\sphinxAtStartPar
\(e\) est la charge de l’électron et vaut \(1.602176634 \times 10^{-19} C\)

\item {} 
\sphinxAtStartPar
\(h\) est la constante de Planck et vaut \(6.626\,070\,15 \times 10^{-34} J s\)

\item {} 
\sphinxAtStartPar
\(\epsilon_0\) la permitivité du vide et vaut \(8.8541878128 \times 10^{-12} F/m\)

\item {} 
\sphinxAtStartPar
\(c\) la célérité de la lumière dans le vide, \(c=299792458 m/s\)

\end{itemize}

\sphinxAtStartPar
Définissez en Python les variables \sphinxcode{\sphinxupquote{e}}, \sphinxcode{\sphinxupquote{hbar}}, \sphinxcode{\sphinxupquote{epsilon\_0}} et \sphinxcode{\sphinxupquote{c}}. Calculez \(\alpha\) et \(1/\alpha\)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{pi}

\PYG{n}{e} \PYG{o}{=} \PYG{l+m+mf}{1.602176634E\PYGZhy{}19}
\PYG{n}{h} \PYG{o}{=} \PYG{l+m+mf}{6.62607015E\PYGZhy{}34}
\PYG{n}{epsilon\PYGZus{}0} \PYG{o}{=} \PYG{l+m+mf}{8.8541878128E\PYGZhy{}12}
\PYG{n}{c} \PYG{o}{=} \PYG{l+m+mi}{299792458}


\PYG{n}{alpha} \PYG{o}{=} \PYG{n}{e}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{o}{/}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{epsilon\PYGZus{}0}\PYG{o}{*}\PYG{n}{h}\PYG{o}{*}\PYG{n}{c}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{alpha}\PYG{p}{)}
              
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
137.0359990841083
\end{sphinxVerbatim}


\subsubsection{Précision des nombres}
\label{\detokenize{cours2_nombres_corr_exercices:precision-des-nombres}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Soit \(x=1\) et \(\epsilon = 10^{-15}\). Calculez \(y=x + \epsilon\) et ensuite \(y - x\).

\item {} 
\sphinxAtStartPar
Pourquoi le résultat est différent de \(10^{-15}\).

\item {} 
\sphinxAtStartPar
Que vaut cette valeur ?

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{1}
\PYG{n}{epsilon} \PYG{o}{=} \PYG{l+m+mf}{1E\PYGZhy{}15}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{n}{epsilon}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{y} \PYG{o}{\PYGZhy{}} \PYG{n}{x}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1.1102230246251565e\PYGZhy{}15
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{o}{*}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{52}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
1.1102230246251565e\PYGZhy{}15
\end{sphinxVerbatim}


\subsubsection{Calcul d’une dérivée}
\label{\detokenize{cours2_nombres_corr_exercices:calcul-d-une-derivee}}
\sphinxAtStartPar
On considère une fonction \(f(x)\). On rappelle que la dérivée peut se définir comme
\begin{equation*}
\begin{split}
f^\prime(x) = \lim_{\epsilon\rightarrow0}\frac{f(x+\epsilon) - f(x)}{\epsilon}
\end{split}
\end{equation*}
\sphinxAtStartPar
Pour calculer numériquement une dérivée, il faut évaluer la limite en prenant une valeur ‘petite’ de \(\epsilon\).

\sphinxAtStartPar
On prendra comme exemple \(f(x) = \sin(x)\).
\begin{itemize}
\item {} 
\sphinxAtStartPar
Calculer numériquement la dérivée de \(f\) en \(\pi/4\) en utilisant la formule pour \(\epsilon = 10^{-6}\).

\item {} 
\sphinxAtStartPar
Comparer à la valeur théorique \(\cos(x)\) pour différentes valeurs de \(\epsilon\) que l’on prendra comme puissance de 10 (\(\epsilon = 10^{-n}\)). Que se passe\sphinxhyphen{}t\sphinxhyphen{}il si \(\epsilon\) est trop petit ? trop grand ?

\item {} 
\sphinxAtStartPar
Ecrire la fonction \sphinxcode{\sphinxupquote{sin\_prime(x, epsilon)}} qui calcule la dérivée de sin en \(x\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui prend une fonction quelconque et renvoie la fonction dérivée.

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{math} \PYG{k+kn}{import} \PYG{n}{sin}\PYG{p}{,} \PYG{n}{pi}\PYG{p}{,} \PYG{n}{cos}

\PYG{n}{x} \PYG{o}{=} \PYG{n}{pi}\PYG{o}{/}\PYG{l+m+mi}{4}
\PYG{n}{epsilon} \PYG{o}{=} \PYG{l+m+mf}{1E\PYGZhy{}11}

\PYG{n}{d} \PYG{o}{=} \PYG{p}{(}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{epsilon}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{n}{epsilon} \PYG{o}{\PYGZhy{}} \PYG{n}{cos}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{d}\PYG{p}{)}

\PYG{k}{for} \PYG{n}{n} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{15}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{epsilon} \PYG{o}{=} \PYG{l+m+mi}{10}\PYG{o}{*}\PYG{o}{*}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{n}{n}\PYG{p}{)}
    \PYG{n}{d} \PYG{o}{=} \PYG{p}{(}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{epsilon}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{n}{epsilon} \PYG{o}{\PYGZhy{}} \PYG{n}{cos}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{n=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{n}\PYG{p}{,} \PYG{n}{d}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} Lorsque epsilon est trop petit, il y a des erreurs d\PYGZsq{}arrondi. Lorsque epsilon est trop grand, nous}
\PYG{c+c1}{\PYGZsh{} sommes loin de la limite}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
5.365427460879424e\PYGZhy{}06
n= 1 \PYGZhy{}0.03650380828255784
n= 2 \PYGZhy{}0.0035472894973379576
n= 3 \PYGZhy{}0.0003536712121802177
n= 4 \PYGZhy{}3.535651724428934e\PYGZhy{}05
n= 5 \PYGZhy{}3.5355413900983734e\PYGZhy{}06
n= 6 \PYGZhy{}3.5344236126721995e\PYGZhy{}07
n= 7 \PYGZhy{}3.5807553921962665e\PYGZhy{}08
n= 8 3.050251939917814e\PYGZhy{}09
n= 9 3.635694267867251e\PYGZhy{}08
n= 10 9.245353623787977e\PYGZhy{}07
n= 11 5.365427460879424e\PYGZhy{}06
n= 12 \PYGZhy{}5.7368027853721415e\PYGZhy{}06
n= 13 0.00010528549967714351
n= 14 0.003435954573552613
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{sin\PYGZus{}prime}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{epsilon}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{p}{(}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{x} \PYG{o}{+} \PYG{n}{epsilon}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{n}{epsilon}

\PYG{k}{def} \PYG{n+nf}{derivee}\PYG{p}{(}\PYG{n}{f}\PYG{p}{,} \PYG{n}{epsilon}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf}{f\PYGZus{}prime}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{p}{(}\PYG{n}{f}\PYG{p}{(}\PYG{n}{x}\PYG{o}{+}\PYG{n}{epsilon}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{n}{f}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{/}\PYG{n}{epsilon}
    \PYG{k}{return} \PYG{n}{f\PYGZus{}prime}

\PYG{n}{derivee}\PYG{p}{(}\PYG{n}{sin}\PYG{p}{,} \PYG{n}{epsilon}\PYG{o}{=}\PYG{l+m+mf}{1E\PYGZhy{}8}\PYG{p}{)}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)} \PYG{o}{\PYGZhy{}} \PYG{n}{cos}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
3.050251939917814e\PYGZhy{}09
\end{sphinxVerbatim}


\subsubsection{Nombre complexe}
\label{\detokenize{cours2_nombres_corr_exercices:nombre-complexe}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Ecrire une fonction qui calcule le module d’un nombre complexe \(z\)

\item {} 
\sphinxAtStartPar
Ecrire une fonction qui à partir de \(r\) et \(\theta\) renvoie le nombre \(z = re^{i\theta} = r\cos(\theta) + ir\sin(\theta)\)

\end{itemize}


\subsection{Exercices sur les conteneurs}
\label{\detokenize{cours3_conteneur_corr_exercices:exercices-sur-les-conteneurs}}\label{\detokenize{cours3_conteneur_corr_exercices::doc}}

\subsubsection{Manipulation des listes}
\label{\detokenize{cours3_conteneur_corr_exercices:manipulation-des-listes}}
\sphinxAtStartPar
On considère la liste {[}1, 5, 3, 5, 6, 2{]}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Écrire une fonction ‘somme’ qui renvoie la somme des éléments d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘maximum’ qui renvoie le maximum des éléments d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘arg\_maximum’ qui renvoie l’indice du maximum d’une liste de nombres. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Écrire une fonction ‘trouve’ qui renvoie l’indice correspondant à l’argument. On fera explicitement la boucle for.

\item {} 
\sphinxAtStartPar
Comment répondre aux questions 1, 2, 3, 4 en utilisant des fonctions déjà existantes ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{l} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}

\PYG{k}{def} \PYG{n+nf}{somme}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{output} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{l}\PYG{p}{:}
        \PYG{n}{output} \PYG{o}{+}\PYG{o}{=} \PYG{n}{val}
    \PYG{k}{return} \PYG{n}{output}

\PYG{k}{def} \PYG{n+nf}{maximum}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{None}
    \PYG{n}{output} \PYG{o}{=} \PYG{n}{l}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
    \PYG{k}{for} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n}{l}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{p}{]}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{val}\PYG{o}{\PYGZgt{}}\PYG{n}{output}\PYG{p}{:}
            \PYG{n}{output} \PYG{o}{=} \PYG{n}{val}
    \PYG{k}{return} \PYG{n}{output}

\PYG{k}{def} \PYG{n+nf}{arg\PYGZus{}maximum}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{None}
    \PYG{n}{output} \PYG{o}{=} \PYG{n}{l}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
    \PYG{n}{i\PYGZus{}max} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n+nb}{enumerate}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{val}\PYG{o}{\PYGZgt{}}\PYG{n}{output}\PYG{p}{:}
            \PYG{n}{output} \PYG{o}{=} \PYG{n}{val}
            \PYG{n}{i\PYGZus{}max} \PYG{o}{=} \PYG{n}{i}
    \PYG{k}{return} \PYG{n}{i\PYGZus{}max}
 
\PYG{k}{def} \PYG{n+nf}{trouve}\PYG{p}{(}\PYG{n}{l}\PYG{p}{,} \PYG{n}{valeur\PYGZus{}a\PYGZus{}trouver}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{val} \PYG{o+ow}{in} \PYG{n+nb}{enumerate}\PYG{p}{(}\PYG{n}{l}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{valeur\PYGZus{}a\PYGZus{}trouver}\PYG{o}{==}\PYG{n}{val}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{i}
    \PYG{k}{else}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{None}
    
\PYG{c+c1}{\PYGZsh{} On peut utiliser sum, max et l.index}
\end{sphinxVerbatim}


\subsubsection{Liste comprehension}
\label{\detokenize{cours3_conteneur_corr_exercices:liste-comprehension}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Créer une liste nomée \sphinxcode{\sphinxupquote{nombres}} contenant les entiers de 0 à 9 inclus

\item {} 
\sphinxAtStartPar
Créer une liste contenant la racine carré des éléments de \sphinxcode{\sphinxupquote{nombres}} (on utilisera une comprehension de liste)

\item {} 
\sphinxAtStartPar
Créer une liste contenant tous les nombres pairs de la listes \sphinxcode{\sphinxupquote{nombres}} (on utilisera une comprehension de liste)

\item {} 
\sphinxAtStartPar
Toujours en utilisant un comprehension de liste, considérant deux listes \sphinxcode{\sphinxupquote{l1}} et \sphinxcode{\sphinxupquote{l2}}, créer une nouvelle liste contenant les couples pris deux à deux de l1 et l2. On supposera que les deux liste ont la même longueur. Quelle fonction python fait la même chose ?

\item {} 
\sphinxAtStartPar
En utilisant la fonction de la question 4 et la liste de la question 2 vérifier que l’on a bien \(y=x^2\) pour chaque élément.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{math}
\PYG{n}{nombres} \PYG{o}{=} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{racine\PYGZus{}nombres} \PYG{o}{=} \PYG{p}{[}\PYG{n}{math}\PYG{o}{.}\PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{nb}\PYG{p}{)} \PYG{k}{for} \PYG{n}{nb} \PYG{o+ow}{in} \PYG{n}{nombres}\PYG{p}{]}
\PYG{n}{nb\PYGZus{}pairs} \PYG{o}{=} \PYG{p}{[}\PYG{n}{nb} \PYG{k}{for} \PYG{n}{nb} \PYG{o+ow}{in} \PYG{n}{nombres} \PYG{k}{if} \PYG{n}{nb}\PYG{o}{\PYGZpc{}}\PYG{k}{2}==0]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste1} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{A}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{B}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{C}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{liste2} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{l+m+mi}{24}\PYG{p}{]}
\PYG{k}{def} \PYG{n+nf}{f}\PYG{p}{(}\PYG{n}{l1}\PYG{p}{,} \PYG{n}{l2}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{return} \PYG{p}{[}\PYG{p}{(}\PYG{n}{l1}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{,} \PYG{n}{l2}\PYG{p}{[}\PYG{n}{i}\PYG{p}{]}\PYG{p}{)} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{l1}\PYG{p}{)}\PYG{p}{)}\PYG{p}{]}

\PYG{n}{f}\PYG{p}{(}\PYG{n}{liste1}\PYG{p}{,} \PYG{n}{liste2}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[(\PYGZsq{}A\PYGZsq{}, 10), (\PYGZsq{}B\PYGZsq{}, 4), (\PYGZsq{}C\PYGZsq{}, 24)]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{a}\PYG{p}{,} \PYG{n}{racine\PYGZus{}a} \PYG{o+ow}{in} \PYG{n}{f}\PYG{p}{(}\PYG{n}{nombres}\PYG{p}{,} \PYG{n}{racine\PYGZus{}nombres}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{math}\PYG{o}{.}\PYG{n}{isclose}\PYG{p}{(}\PYG{n}{a}\PYG{p}{,} \PYG{n}{racine\PYGZus{}a}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Problème avec }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{a}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{ et }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{racine\PYGZus{}a}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsubsection{Exercice de base sur les dictionnaires}
\label{\detokenize{cours3_conteneur_corr_exercices:exercice-de-base-sur-les-dictionnaires}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Tout d’abord, nous allons créer un petit dictionnaire qui contient des informations sur un étudiant. Utilisons les clés et valeurs suivantes en exemple :
\begin{itemize}
\item {} 
\sphinxAtStartPar
‘nom’: ‘Jean Dupont’

\item {} 
\sphinxAtStartPar
‘âge’: 20

\item {} 
\sphinxAtStartPar
‘filière’: ‘Informatique’

\end{itemize}

\item {} 
\sphinxAtStartPar
Modifier l’age pour qu’il soit égal à 21

\item {} 
\sphinxAtStartPar
Afficher le genre de l’étudiant si il possède une telle clé sinon afficher un message inquant que l’on ne connait pas son genre.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{etudiant} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{nom}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Jean Dupont}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} 
           \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{age}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{20}\PYG{p}{,}
           \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{filière}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Informatique}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}

\PYG{n}{etudiant}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{age}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{21}

\PYG{k}{if} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{genre}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o+ow}{in} \PYG{n}{etudiant}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Le gende de l}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{étudiant est}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{etudiant}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{genre}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{k}{else}\PYG{p}{:}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{L}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{étudiant n}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{a pas de genre spécifié}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
L\PYGZsq{}étudiant n\PYGZsq{}a pas de genre spécifié
\end{sphinxVerbatim}


\subsubsection{Exercice sur les ensembles}
\label{\detokenize{cours3_conteneur_corr_exercices:exercice-sur-les-ensembles}}
\sphinxAtStartPar
La fonction chr permet de convertir un code ASCII en un caractère. La liste des lettres majuscules peut être obtenue à partir de la commande suivante :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{liste\PYGZus{}majuscules} \PYG{o}{=} \PYG{p}{[}\PYG{n+nb}{chr}\PYG{p}{(}\PYG{l+m+mi}{65}\PYG{o}{+}\PYG{n}{i}\PYG{p}{)} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{26}\PYG{p}{)}\PYG{p}{]}
\end{sphinxVerbatim}

\sphinxAtStartPar
On souhaite vérifier qu’un mot de passe entré par un utilisateur est sufisament compliqué. Voici les règles :
\begin{itemize}
\item {} 
\sphinxAtStartPar
Il doit contenir 12 caractères différents

\item {} 
\sphinxAtStartPar
Il doit contenir au moins 2 majuscules différentes

\item {} 
\sphinxAtStartPar
Il doit contenir au moins un caractère de ponctuation \sphinxcode{\sphinxupquote{.,;:!?}}

\item {} 
\sphinxAtStartPar
Il ne doit pas contenir d’espace

\end{itemize}

\sphinxAtStartPar
Ecrire une fonction qui renvoie True si toutes les conditions sont vérifiées et False sinon

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{majuscules} \PYG{o}{=} \PYG{n+nb}{set}\PYG{p}{(}\PYG{n}{majuscules}\PYG{p}{)}
\PYG{n}{ponctuations} \PYG{o}{=} \PYG{n+nb}{set}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{,.;:!?}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{k}{def} \PYG{n+nf}{verifie\PYGZus{}mot\PYGZus{}de\PYGZus{}passe}\PYG{p}{(}\PYG{n}{mdp}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{mdp} \PYG{o}{=} \PYG{n+nb}{set}\PYG{p}{(}\PYG{n}{mdp}\PYG{p}{)}
    \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{mdp}\PYG{p}{)}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{12}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{False}
    \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{mdp}\PYG{o}{\PYGZam{}}\PYG{n}{majuscules}\PYG{p}{)}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{2}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{False}
    \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{ponctuations}\PYG{o}{\PYGZam{}}\PYG{n}{mdp}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{False}
    \PYG{k}{if} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ }\PYG{l+s+s1}{\PYGZsq{}} \PYG{o+ow}{in} \PYG{n}{mdp}\PYG{p}{:}
        \PYG{k}{return} \PYG{k+kc}{False}
    \PYG{k}{return} \PYG{k+kc}{True}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{verifie\PYGZus{}mot\PYGZus{}de\PYGZus{}passe}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{edsfJe:;ZErb\PYGZus{}4}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
True
\end{sphinxVerbatim}


\subsection{Chaînes de caractères}
\label{\detokenize{cours4_chaine_caractere_corr_exercices:chaines-de-caracteres}}\label{\detokenize{cours4_chaine_caractere_corr_exercices::doc}}

\subsubsection{Liste de prix}
\label{\detokenize{cours4_chaine_caractere_corr_exercices:liste-de-prix}}
\sphinxAtStartPar
Voici un liste de prix sous forme d’un dictionnaire. Afficher la liste de prix de la façon suivante :



\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{price\PYGZus{}liste} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{tomates}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{3.4}\PYG{p}{,}
     \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pommes}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{2.49}\PYG{p}{,}
     \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{oignons}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+m+mf}{1.45}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{nom}\PYG{p}{,} \PYG{n}{prix} \PYG{o+ow}{in} \PYG{n}{price\PYGZus{}liste}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{prix} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{prix}\PYG{l+s+si}{:}\PYG{l+s+s1}{5.2f}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{prix} \PYG{o}{=} \PYG{n}{prix}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{.}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{€}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{nom}\PYG{l+s+si}{:}\PYG{l+s+s1}{\PYGZgt{}10s}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{prix}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
   tomates:  3€40
    pommes:  2€49
   oignons:  1€45
\end{sphinxVerbatim}


\subsubsection{Unicode}
\label{\detokenize{cours4_chaine_caractere_corr_exercices:unicode}}
\sphinxAtStartPar
Afficher toutes les lettres greques de α à ω. (On pourra copier coller ces lettres pour avoir leurs unicodes)

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{debut} \PYG{o}{=} \PYG{n+nb}{ord}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{α}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{fin} \PYG{o}{=} \PYG{n+nb}{ord}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ω}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ }\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{p}{[}\PYG{n+nb}{chr}\PYG{p}{(}\PYG{n}{i}\PYG{p}{)} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n}{debut}\PYG{p}{,} \PYG{n}{fin}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{]}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
α β γ δ ε ζ η θ ι κ λ μ ν ξ ο π ρ ς σ τ υ φ χ ψ ω
\end{sphinxVerbatim}


\subsubsection{Combien La Fontaine a t\sphinxhyphen{}il utilisé de mots différents dans ses fables ?}
\label{\detokenize{cours4_chaine_caractere_corr_exercices:combien-la-fontaine-a-t-il-utilise-de-mots-differents-dans-ses-fables}}
\sphinxAtStartPar
Les lignes suivantes permettent de télécharger l’ensemble des fables de la Fontaine.
\begin{itemize}
\item {} 
\sphinxAtStartPar
Combien y a\sphinxhyphen{}t\sphinxhyphen{}il de mots différents ? On pourra d’abord remplacer toutes les ponctuations par des espaces, puis créer une liste de mots que l’on mettra en minuscule. On créera ensuite un ensemble dont on regardera la taille.

\item {} 
\sphinxAtStartPar
Quelle est le mot le plus long ?

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{requests}

\PYG{n}{s} \PYG{o}{=} \PYG{n}{requests}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{https://www.gutenberg.org/cache/epub/56327/pg56327.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{text}

\PYG{n}{ponctutation\PYGZus{}list} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{?,.;:!}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}\PYGZdq{}}\PYG{l+s+s1}{\PYGZhy{}[]()/«»}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{n}{ponctuation} \PYG{o+ow}{in} \PYG{n}{ponctutation\PYGZus{}list}\PYG{p}{:}
    \PYG{n}{s} \PYG{o}{=} \PYG{n}{s}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{n}{ponctuation}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ }\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    
\PYG{n}{liste\PYGZus{}mots} \PYG{o}{=} \PYG{n}{s}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{liste\PYGZus{}mots} \PYG{o}{=} \PYG{p}{[}\PYG{n}{item}\PYG{o}{.}\PYG{n}{strip}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{lower}\PYG{p}{(}\PYG{p}{)} \PYG{k}{for} \PYG{n}{item} \PYG{o+ow}{in} \PYG{n}{liste\PYGZus{}mots}\PYG{p}{]}
\PYG{n}{ensemble\PYGZus{}mots} \PYG{o}{=} \PYG{n+nb}{set}\PYG{p}{(}\PYG{n}{liste\PYGZus{}mots}\PYG{p}{)}

\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{ensemble\PYGZus{}mots}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
10496
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{ensemble\PYGZus{}mots} \PYG{o}{=} \PYG{n+nb}{sorted}\PYG{p}{(}\PYG{n+nb}{list}\PYG{p}{(}\PYG{n}{ensemble\PYGZus{}mots}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{tailles} \PYG{o}{=} \PYG{p}{[}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{mot}\PYG{p}{)} \PYG{k}{for} \PYG{n}{mot} \PYG{o+ow}{in} \PYG{n}{ensemble\PYGZus{}mots}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{taille\PYGZus{}max} \PYG{o}{=} \PYG{n+nb}{max}\PYG{p}{(}\PYG{n}{tailles}\PYG{p}{)}
\PYG{p}{[}\PYG{n}{mot} \PYG{k}{for} \PYG{n}{mot}\PYG{p}{,} \PYG{n}{taille} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n}{ensemble\PYGZus{}mots}\PYG{p}{,} \PYG{n}{tailles}\PYG{p}{)} \PYG{k}{if} \PYG{n}{taille}\PYG{o}{==}\PYG{n}{taille\PYGZus{}max}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[\PYGZsq{}batrachomyomachie\PYGZsq{}]
\end{sphinxVerbatim}


\subsection{Objets}
\label{\detokenize{cours6_objet_corr_exercices:objets}}\label{\detokenize{cours6_objet_corr_exercices::doc}}

\subsubsection{Vecteur}
\label{\detokenize{cours6_objet_corr_exercices:vecteur}}
\sphinxAtStartPar
Créer une classe Vecteur3D. Chaque vecteur aura 3 attributs : x, y, z
\begin{itemize}
\item {} 
\sphinxAtStartPar
Écrire une méthode norme qui renvoie la norme.

\item {} 
\sphinxAtStartPar
Écrire la méthode \sphinxcode{\sphinxupquote{\_\_add\_\_}} pour faire la somme entre deux veteurs

\item {} 
\sphinxAtStartPar
Écrire la méthode \sphinxcode{\sphinxupquote{\_\_mul\_\_}} pour faire soit le produit par un scalaire (\(2\vec{u}\)) ou le produit scalaire (\(\vec{u}\cdot\vec{v}\)).

\end{itemize}


\subsubsection{Bibliographie}
\label{\detokenize{cours6_objet_corr_exercices:bibliographie}}
\sphinxAtStartPar
Un livre est décrit par son titre, auteur et année de publication (pour faire les choses simplements). Écrire une classe \sphinxcode{\sphinxupquote{Livre}} qui enregistre ces informations. Ecrire la méthode \sphinxcode{\sphinxupquote{\_\_repr\_\_}} et \sphinxcode{\sphinxupquote{\_\_str\_\_}}.

\sphinxAtStartPar
Une bibliographe est une liste de livre. Écrire la classe \sphinxcode{\sphinxupquote{Bibliographie}} qui enregistre une liste de livre (on stockera la liste de livre sous forme d’une liste qui sera un attribut de la bibliographie).

\sphinxAtStartPar
L’objectif final est de pouvoir faire ceci ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
livre1 = Livre(\PYGZdq{}A very nice book\PYGZdq{}, \PYGZdq{}F. Dupont\PYGZdq{}, 2014)
livre2 = Livre(\PYGZdq{}A very smart book\PYGZdq{}, \PYGZdq{}A. Einstein\PYGZdq{}, 1923)
livre3 = Livre(\PYGZdq{}A very stupid comic\PYGZdq{}, \PYGZdq{}D. Duck\PYGZdq{}, 1937)

bibliographie = Bibliographie([book1, book2, book3])
\end{sphinxVerbatim}

\sphinxAtStartPar
Maintenant que tout est fait sous forme d’objet, on peut imaginer écrire plusieurs méthode :
\begin{itemize}
\item {} 
\sphinxAtStartPar
Écrire une méthode \sphinxcode{\sphinxupquote{filter\_by\_year}} qui fait une nouvelle bibliographie ne contenant que les livres d’une année donée.

\item {} 
\sphinxAtStartPar
Écrire une méthode \sphinxcode{\sphinxupquote{to\_html}} qui formate correctement la bibliographie. La méthode de la classe Bibliographie devra appeler une méthode pour chaque Livre.

\end{itemize}

\sphinxAtStartPar
Et en HTML ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}table\PYGZgt{}
    \PYGZlt{}thead\PYGZgt{}
        \PYGZlt{}tr\PYGZgt{} \PYGZlt{}th\PYGZgt{}Auteur\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Titre\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Année\PYGZlt{}/th\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
    \PYGZlt{}/thead\PYGZgt{}
    \PYGZlt{}tbody\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}F. Dupont\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}2014\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very nice book\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}A. Einstein\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}1923\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very smart book\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
       \PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}D. Duck\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}1937\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}A very stupid comic\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}
    \PYGZlt{}/tbody\PYGZgt{}
\PYGZlt{}/table\PYGZgt{}
\end{sphinxVerbatim}

\sphinxAtStartPar
Remarque : si un objet possède une méthode \sphinxcode{\sphinxupquote{\_repr\_html\_}}, alors le jupyter notebook utilsera automatiquement la représentation en HTML. Rajouter cette méthode (qui appelera to\_html).

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Livre}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{titre}\PYG{p}{,} \PYG{n}{auteur}\PYG{p}{,} \PYG{n}{annee}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{titre} \PYG{o}{=} \PYG{n}{titre}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auteur} \PYG{o}{=} \PYG{n}{auteur}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{annee} \PYG{o}{=} \PYG{n}{annee}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Livre(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{titre}\PYG{l+s+si}{!r\PYGZcb{}}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auteur}\PYG{l+s+si}{!r\PYGZcb{}}\PYG{l+s+s2}{, }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{annee}\PYG{l+s+si}{!r\PYGZcb{}}\PYG{l+s+s2}{)}\PYG{l+s+s2}{\PYGZdq{}}

    \PYG{k}{def} \PYG{n+nf}{to\PYGZus{}html\PYGZus{}table\PYGZus{}line}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZlt{}tr\PYGZgt{}\PYGZlt{}td\PYGZgt{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auteur}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{titre}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZlt{}/td\PYGZgt{}\PYGZlt{}td\PYGZgt{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{annee}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZlt{}/td\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}}\PYG{l+s+s2}{\PYGZdq{}}
    
    
\PYG{n}{bibio\PYGZus{}html\PYGZus{}template}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}\PYG{l+s+s2}{\PYGZlt{}table\PYGZgt{}}
\PYG{l+s+s2}{\PYGZlt{}thead\PYGZgt{}}
\PYG{l+s+s2}{\PYGZlt{}tr\PYGZgt{}\PYGZlt{}th\PYGZgt{}Auteur\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Titre\PYGZlt{}/th\PYGZgt{}\PYGZlt{}th\PYGZgt{}Année\PYGZlt{}/th\PYGZgt{}\PYGZlt{}/tr\PYGZgt{}}
\PYG{l+s+s2}{\PYGZlt{}/thead\PYGZgt{}}
\PYG{l+s+s2}{\PYGZlt{}tbody\PYGZgt{}}
\PYG{l+s+si}{\PYGZob{}content\PYGZcb{}}
\PYG{l+s+s2}{\PYGZlt{}/tbody\PYGZgt{}}
\PYG{l+s+s2}{\PYGZlt{}/table\PYGZgt{}}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}


\PYG{k}{class} \PYG{n+nc}{Bibliographie}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{liste\PYGZus{}des\PYGZus{}livres}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}liste\PYGZus{}livres} \PYG{o}{=} \PYG{n}{liste\PYGZus{}des\PYGZus{}livres}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}getitem\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{key}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}liste\PYGZus{}livres}\PYG{p}{[}\PYG{n}{key}\PYG{p}{]}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Bibliographie(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}liste\PYGZus{}livres}\PYG{l+s+si}{!r\PYGZcb{}}\PYG{l+s+s2}{)}\PYG{l+s+s2}{\PYGZdq{}}
        
    \PYG{k}{def} \PYG{n+nf}{to\PYGZus{}html\PYGZus{}table}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{content} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{p}{[}\PYG{n}{livre}\PYG{o}{.}\PYG{n}{to\PYGZus{}html\PYGZus{}table\PYGZus{}line}\PYG{p}{(}\PYG{p}{)} \PYG{k}{for} \PYG{n}{livre} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}liste\PYGZus{}livres}\PYG{p}{]}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{bibio\PYGZus{}html\PYGZus{}template}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{content}\PYG{o}{=}\PYG{n}{content}\PYG{p}{)}
        
    \PYG{n}{\PYGZus{}repr\PYGZus{}html\PYGZus{}} \PYG{o}{=} \PYG{n}{to\PYGZus{}html\PYGZus{}table}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{livre1} \PYG{o}{=} \PYG{n}{Livre}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A very nice book}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{F. Dupont}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+m+mi}{2014}\PYG{p}{)}
\PYG{n}{livre2} \PYG{o}{=} \PYG{n}{Livre}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A very smart book}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A. Einstein}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+m+mi}{1923}\PYG{p}{)}
\PYG{n}{livre3} \PYG{o}{=} \PYG{n}{Livre}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{A very stupid comic}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{D. Duck}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+m+mi}{1937}\PYG{p}{)}

\PYG{n}{bibliographie} \PYG{o}{=} \PYG{n}{Bibliographie}\PYG{p}{(}\PYG{p}{[}\PYG{n}{livre1}\PYG{p}{,} \PYG{n}{livre2}\PYG{p}{,} \PYG{n}{livre3}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{bibliographie}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Bibliographie([Livre(\PYGZsq{}A very nice book\PYGZsq{}, \PYGZsq{}F. Dupont\PYGZsq{}, 2014), Livre(\PYGZsq{}A very smart book\PYGZsq{}, \PYGZsq{}A. Einstein\PYGZsq{}, 1923), Livre(\PYGZsq{}A very stupid comic\PYGZsq{}, \PYGZsq{}D. Duck\PYGZsq{}, 1937)])
\end{sphinxVerbatim}


\subsubsection{Système de calcul formel}
\label{\detokenize{cours6_objet_corr_exercices:systeme-de-calcul-formel}}
\sphinxAtStartPar
\sphinxstyleemphasis{Cet exercice est à but purement pédagogique. Pour utiliser un système de calcul formel sous Python, la librairie \sphinxcode{\sphinxupquote{sympy}} existe et fonctionnera bien mieux que ce que l’on va faire !}

\sphinxAtStartPar
L’objectif de ce TD est de réaliser un système de calcul formel qui permettra de manipuler des expressions algébriques simples et de réaliser des opérations simples. Par exemple, on souhaite pouvoir effectuer ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{s} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y} \PYG{o}{+} \PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{*}\PYG{n}{y}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{s}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} Dérivée par rapport à x}
\end{sphinxVerbatim}

\sphinxAtStartPar
Chaque expression sera représentée par un arbre. Les feuilles de l’arbre seront soit les symboles soit les constantes numériques. Les noeuds seront des fonctions à un ou plusieurs argument (sinus, somme, opposé, …). Le nom de la classe du noeud désignera la fonction. Les “enfants” du noeud seront les arguments de la fonction. Par exemple l’expression ci dessus correspondra à l’objet suivant ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} sA : 2*x*y}
\PYG{n}{sA} \PYG{o}{=} \PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} sB : sin(x)*y}
\PYG{n}{sB} \PYG{o}{=} \PYG{n}{Prod}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{,} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{s} \PYG{o}{=} \PYG{n}{Sum}\PYG{p}{(}\PYG{n}{sA}\PYG{p}{,} \PYG{n}{sB}\PYG{p}{)}
\end{sphinxVerbatim}


\paragraph{Structure du programme}
\label{\detokenize{cours6_objet_corr_exercices:structure-du-programme}}
\sphinxAtStartPar
Voici la structure de base ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Expr}\PYG{p}{(}\PYG{n+nb}{object}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Node}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Leave}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Pour les feuilles ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Ensuite on définit les fonctions ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Les opérateurs sont des fonctions comme les autres, mais elle seront simplement affichées différemment ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass} 
\PYG{c+c1}{\PYGZsh{} Idem pour Sub, Div, Prod, Pow}

\PYG{k}{class} \PYG{n+nc}{UnitaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Neg}\PYG{p}{(}\PYG{n}{UnitaryOperateor}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Les fonction mathématiques, qui prennent un seul argument ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}


\paragraph{Questions}
\label{\detokenize{cours6_objet_corr_exercices:questions}}
\sphinxAtStartPar
On va procéder étape par étape. Il sera plus facile de commencer par les feuilles avant d’écrire la structure globale.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Ecrire le \sphinxcode{\sphinxupquote{\_\_init\_\_}} de la classe Symbol et Number

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Expr}\PYG{p}{(}\PYG{n+nb}{object}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}add\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Sum}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}mul\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Prod}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Node}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Leave}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass} 
\PYG{c+c1}{\PYGZsh{} Idem pour Sub, Div, Prod, Pow}

\PYG{k}{class} \PYG{n+nc}{UnitaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Neg}\PYG{p}{(}\PYG{n}{UnitaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numbers}

\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{symbole}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb} \PYG{o}{=} \PYG{n}{symbole}
        
\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{nombre}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{nombre}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{ValueError}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{=} \PYG{n}{nombre}
        
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Ecrire une méthode \sphinxcode{\sphinxupquote{display}} sur ces classes afin de renvoyer une chaîne de caractère contenant le symbole ou le nombre

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{symbole}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb} \PYG{o}{=} \PYG{n}{symbole}

    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{nombre}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{nombre}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{ValueError}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{=} \PYG{n}{nombre}
        
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}\PYG{p}{)}
        
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Ecrire le \sphinxcode{\sphinxupquote{\_\_init\_\_}} de la class Sin ainsi que le display. Le display devra appeler le display de l’argument. Par exemple ceci devra fonctionner ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\PYG{g+go}{sin(x)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\PYG{g+go}{sin(sin(x))}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{arg}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg} \PYG{o}{=} \PYG{n}{arg}
        
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Sin(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
    
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}Sin(Sin(x))\PYGZsq{}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Généraliser le \sphinxstylestrong{init} et le display de \sphinxcode{\sphinxupquote{Sin}} afin de le mettre dans la class MathFunction. On rajoutera un attribut de classe à chaque sous classe de MathFunction ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{funtion\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sin}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{function\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}


\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{function\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sin}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{arg}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg} \PYG{o}{=} \PYG{n}{arg}
        
    
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}sin(sin(x))\PYGZsq{}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{4}
\item {} 
\sphinxAtStartPar
Faire de même pour les opérateurs binaires. On pourra commencer par simplement le faire pour Sum, puis généraliser avec un attribut de classe ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{n}{args}

\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{arg1}\PYG{p}{,} \PYG{n}{arg2}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{p}{(}\PYG{n}{arg1}\PYG{p}{,} \PYG{n}{arg2}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{) }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{operator\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{ (}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
    
\PYG{k}{class} \PYG{n+nc}{Prod}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{*}\PYG{l+s+s1}{\PYGZsq{}}

    
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{Sum}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Prod}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZsq{}(x) + (sin((x) * (y)))\PYGZsq{}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{5}
\item {} 
\sphinxAtStartPar
A ce stade quelque chose comme ceci devrait fonctionner ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{Sum}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{Prod}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Rajouter les méthodes \sphinxcode{\sphinxupquote{\_\_add\_\_}}, \sphinxcode{\sphinxupquote{\_\_mul\_\_}}, etc à la classe Expr afin de pouvoir écrire :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
(x) + (sin((x) * (y)))
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{6}
\item {} 
\sphinxAtStartPar
Ecrire les méthodes \sphinxcode{\sphinxupquote{evaluate}} afin de calculer la valeur numérique d’une expression. Cette méthode fonctionnera de la sorte :

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{expr} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{expr}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{n}{x}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{y}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
On aura donc le protocole suivant ::

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}
\end{sphinxVerbatim}

\sphinxAtStartPar
Le dictionnaire kwd sera passé récursivement jusqu’aux feuilles et sera utilisé pour évaluer les symboles.

\sphinxAtStartPar
Les opérateurs binaires numériques sont définis dans le module \sphinxcode{\sphinxupquote{operator}} et les fonctions dans le module \sphinxcode{\sphinxupquote{math}}. Afin de factoriser le code, on rajoutera donc simplement un attribut de classe du type \sphinxcode{\sphinxupquote{operator\_function = operator.add}} pour les opérateurs binaires et \sphinxcode{\sphinxupquote{math\_function = math.sin}} pour les fonctions.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{math}
\PYG{k+kn}{import} \PYG{n+nn}{numbers} 
\PYG{k+kn}{import} \PYG{n+nn}{operator}

\PYG{k}{class} \PYG{n+nc}{Expr}\PYG{p}{(}\PYG{n+nb}{object}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}add\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Sum}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}mul\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Prod}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Node}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Leave}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}


\PYG{k}{class} \PYG{n+nc}{UnitaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Neg}\PYG{p}{(}\PYG{n}{UnitaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}


\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{symbole}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb} \PYG{o}{=} \PYG{n}{symbole}

    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}
    
    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{kwd}\PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}\PYG{p}{]}
        \PYG{k}{except} \PYG{n+ne}{KeyError}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{Exception}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{La valeur de }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s2}{ n}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{est pas définie}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}\PYG{p}{)}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{nombre}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{nombre}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{ValueError}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{=} \PYG{n}{nombre}
        
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}
            
\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{n}{args}

    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{evaluated\PYGZus{}args} \PYG{o}{=} \PYG{p}{[}\PYG{n}{elm}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)} \PYG{k}{for} \PYG{n}{elm} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{]}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{math\PYGZus{}function}\PYG{p}{(}\PYG{o}{*}\PYG{n}{evaluated\PYGZus{}args}\PYG{p}{)}
        
\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{arg1}\PYG{p}{,} \PYG{n}{arg2}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{p}{(}\PYG{n}{arg1}\PYG{p}{,} \PYG{n}{arg2}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{) }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{operator\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{ (}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
    
\PYG{k}{class} \PYG{n+nc}{Prod}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{*}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{operator}\PYG{o}{.}\PYG{n}{mul}
    
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{operator}\PYG{o}{.}\PYG{n}{add}

\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{function\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}


\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{function\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sin}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{math}\PYG{o}{.}\PYG{n}{sin}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{arg}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{p}{(}\PYG{n}{arg}\PYG{p}{,}\PYG{p}{)}
    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{y} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{expr} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{n}{Sin}\PYG{p}{(}\PYG{n}{x}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{expr}\PYG{p}{)}
\PYG{n}{expr}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{n}{x}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{y}\PYG{o}{=}\PYG{l+m+mf}{4.5}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
(x) + (sin((x) * (y)))
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2.4121184852417565
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{7}
\item {} 
\sphinxAtStartPar
Maintenant que vous avez compris le principe, il devrait être facile d’écrire une méthode \sphinxcode{\sphinxupquote{diff}} qui effectue la dérivée par rapport à une variable !

\item {} 
\sphinxAtStartPar
Reste à simplifier les expressions. Une technique consiste à créer des règles de simplifications sous forme de méthode que l’on regroupe ensuite dans une liste ::

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{operator\PYGZus{}function} \PYG{o}{=} \PYG{n}{operator}\PYG{o}{.}\PYG{n}{add}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg1}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)} \PYG{o+ow}{and} 
                        \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg2}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg1}\PYG{o}{.}\PYG{n}{value} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{arg2}\PYG{o}{.}\PYG{n}{value}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{pass}

    \PYG{n}{liste\PYGZus{}simplication} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} 
                    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} 
\end{sphinxVerbatim}

\sphinxAtStartPar
Ensuite, il faut réussir à appeler correctement et de façon recursive ces méthodes…
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{9}
\item {} 
\sphinxAtStartPar
Pour l’affichage des opérateurs binaires, les règles de priorité peuvent être utilisées pour éviter de mettre trop de parenthèses. Par exemple, dans le cas \sphinxcode{\sphinxupquote{a*(b+c)}}, la multiplication appelle le display de l’addition. Comme elle est prioritaire, l’addition va renvoyer le résulat avec des parenthèses. Dans le cas inverse \sphinxcode{\sphinxupquote{a + b*c}}, c’est inutile. Il faut donc que le display d’un opérateur passe sa priorité à ses enfants lors de l’appel de display. Implémenter ce principe.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numbers}
\PYG{k+kn}{import} \PYG{n+nn}{operator}
\PYG{k+kn}{import} \PYG{n+nn}{math}

\PYG{k}{class} \PYG{n+nc}{Expr}\PYG{p}{(}\PYG{n+nb}{object}\PYG{p}{)}\PYG{p}{:}

    \PYG{k}{def} \PYG{n+nf}{binary\PYGZus{}operator}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{,} \PYG{n}{operator}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{other} \PYG{o}{=} \PYG{n}{Number}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{operator}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}
        \PYG{k}{return} \PYG{n+nb+bp}{NotImplemented}

    \PYG{k}{def} \PYG{n+nf}{reversed\PYGZus{}binary\PYGZus{}operator}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{,} \PYG{n}{operator}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{other} \PYG{o}{=} \PYG{n}{Number}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{p}{)}
        \PYG{k}{return} \PYG{n+nb+bp}{NotImplemented}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}add\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Sum}\PYG{p}{)}
        
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}mul\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Prod}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}truediv\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Div}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}sub\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Sub}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}radd\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{reversed\PYGZus{}binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Sum}\PYG{p}{)}
 
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}rmul\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{reversed\PYGZus{}binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Prod}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}rtruediv\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{reversed\PYGZus{}binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Div}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}rsub\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{reversed\PYGZus{}binary\PYGZus{}operator}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Sub}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}neg\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Neg}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}repr\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}


    \PYG{k}{def} \PYG{n+nf}{diff}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{var}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{out} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}diff}\PYG{p}{(}\PYG{n}{var}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{out}\PYG{o}{.}\PYG{n}{simplify}\PYG{p}{(}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Node}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{pass}

\PYG{k}{class} \PYG{n+nc}{Leave}\PYG{p}{(}\PYG{n}{Expr}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf}{simplify}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}

\PYG{k}{class} \PYG{n+nc}{Symbol}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{symbole}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb} \PYG{o}{=} \PYG{n}{symbole}
        
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}
    
    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{kwd}\PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}\PYG{p}{]}
        \PYG{k}{except} \PYG{n+ne}{KeyError}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{Exception}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{La valeur de }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s2}{ n}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{est pas définie}\PYG{l+s+s2}{\PYGZdq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}\PYG{p}{)}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}eq\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{type}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{o}{==}\PYG{n+nb}{type}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{k+kc}{False}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{symb}\PYG{o}{==}\PYG{n}{other}\PYG{o}{.}\PYG{n}{symb}

    \PYG{k}{def} \PYG{n+nf}{\PYGZus{}diff}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{var}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{==}\PYG{n}{var}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Number}\PYG{p}{(}\PYG{n}{Leave}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{nombre}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{nombre}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{ValueError}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{=} \PYG{n}{nombre}
        
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}eq\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{numbers}\PYG{o}{.}\PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{other} \PYG{o}{=} \PYG{n}{Number}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{other}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{other}\PYG{o}{.}\PYG{n}{nbre}\PYG{o}{==}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nbre}
        \PYG{k}{return} \PYG{k+kc}{False}

    \PYG{k}{def} \PYG{n+nf}{\PYGZus{}diff}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{var}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Function}\PYG{p}{(}\PYG{n}{Node}\PYG{p}{)}\PYG{p}{:}
    \PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{} Function with an arbitrary number of arguments \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args} \PYG{o}{=} \PYG{n}{args}

    \PYG{k}{def} \PYG{n+nf}{evaluate}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{evaluated\PYGZus{}args} \PYG{o}{=} \PYG{p}{[}\PYG{n}{elm}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{o}{*}\PYG{o}{*}\PYG{n}{kwd}\PYG{p}{)} \PYG{k}{for} \PYG{n}{elm} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{]}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{math\PYGZus{}function}\PYG{p}{(}\PYG{o}{*}\PYG{n}{evaluated\PYGZus{}args}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}eq\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{type}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{o}{==}\PYG{n+nb}{type}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{k+kc}{False}        
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{o}{==}\PYG{n}{other}\PYG{o}{.}\PYG{n}{args}

    \PYG{k}{def} \PYG{n+nf}{\PYGZus{}diff}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{var}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{n+nb}{getattr}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{partial\PYGZus{}derivative}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{k+kc}{None}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{partial\PYGZus{}derivative} \PYG{o+ow}{is} \PYG{k+kc}{None}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n+ne}{NotImplementedError}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Cannot derivate function }\PYG{l+s+si}{\PYGZob{}self.\PYGZus{}\PYGZus{}class\PYGZus{}\PYGZus{}\PYGZcb{}}\PYG{l+s+s1}{.}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{)}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
        \PYG{n}{out} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{var}\PYG{p}{)}\PYG{o}{*}\PYG{n}{partial\PYGZus{}derivative}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{(}\PYG{o}{*}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{)}
        \PYG{k}{for} \PYG{n}{deriv}\PYG{p}{,} \PYG{n}{arg} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n}{partial\PYGZus{}derivative}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{p}{]}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{p}{]}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{out} \PYG{o}{=} \PYG{n}{out} \PYG{o}{+} \PYG{n}{arg}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{var}\PYG{p}{)}\PYG{o}{*}\PYG{n}{deriv}\PYG{p}{(}\PYG{o}{*}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{out}

    \PYG{n}{liste\PYGZus{}simplification} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
    \PYG{k}{def} \PYG{n+nf}{simplify}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{out} \PYG{o}{=} \PYG{n+nb}{type}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{(}\PYG{o}{*}\PYG{p}{[}\PYG{n}{elm}\PYG{o}{.}\PYG{n}{simplify}\PYG{p}{(}\PYG{p}{)} \PYG{k}{for} \PYG{n}{elm} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{]}\PYG{p}{)}
        \PYG{k}{for} \PYG{n}{elm} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{liste\PYGZus{}simplification}\PYG{p}{:}
            \PYG{n}{tmp} \PYG{o}{=} \PYG{n+nb}{getattr}\PYG{p}{(}\PYG{n}{out}\PYG{p}{,} \PYG{n}{elm}\PYG{p}{)}\PYG{p}{(}\PYG{p}{)}
            \PYG{k}{if} \PYG{n}{tmp} \PYG{o+ow}{is} \PYG{o+ow}{not} \PYG{k+kc}{None}\PYG{p}{:}
                \PYG{k}{return} \PYG{n}{tmp}\PYG{o}{.}\PYG{n}{simplify}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{out}


\PYG{k}{class} \PYG{n+nc}{BinaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{commutative}\PYG{o}{=}\PYG{k+kc}{False}
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{parent\PYGZus{}priority}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{parent\PYGZus{}priority}\PYG{o}{\PYGZgt{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{priority}\PYG{p}{:}
            \PYG{n}{fmt\PYGZus{}str} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{ }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{ }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{fmt\PYGZus{}str} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{ }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{ }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}
        \PYG{k}{return} \PYG{n}{fmt\PYGZus{}str}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{priority}\PYG{p}{)}\PYG{p}{,} 
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{operator\PYGZus{}name}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{priority}\PYG{p}{)}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}eq\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{type}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{o}{==}\PYG{n+nb}{type}\PYG{p}{(}\PYG{n}{other}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{k+kc}{False}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{o}{==}\PYG{n}{other}\PYG{o}{.}\PYG{n}{args}\PYG{p}{:}
            \PYG{k}{return} \PYG{k+kc}{True}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{commutative}\PYG{p}{:}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{o}{==}\PYG{n}{other}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{p}{:}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}
        \PYG{k}{return} \PYG{k+kc}{False}

\PYG{k}{class} \PYG{n+nc}{Sum}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{priority} \PYG{o}{=} \PYG{l+m+mi}{0}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{+}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function}\PYG{o}{=}\PYG{n}{operator}\PYG{o}{.}\PYG{n}{add}
    \PYG{n}{commutative}\PYG{o}{=}\PYG{k+kc}{True}    
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{)}


    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)} \PYG{o+ow}{and} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{nbre}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}

    \PYG{k}{def} \PYG{n+nf}{simplification\PYGZus{}identique}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{==}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{:}
            \PYG{k}{return} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}

    \PYG{n}{liste\PYGZus{}simplification} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}addition\PYGZus{}avec\PYGZus{}zero}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplification\PYGZus{}identique}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}

\PYG{k}{class} \PYG{n+nc}{Prod}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{priority} \PYG{o}{=} \PYG{l+m+mi}{1}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{*}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function}\PYG{o}{=}\PYG{n}{operator}\PYG{o}{.}\PYG{n}{mul}
    \PYG{n}{commutative}\PYG{o}{=}\PYG{k+kc}{True}    
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{n}{y}\PYG{p}{,} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{n}{x}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)} \PYG{o+ow}{and} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{n}{Number}\PYG{p}{)}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{nbre} \PYG{o}{*} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{nbre}\PYG{p}{)}


    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}multiplication\PYGZus{}par\PYGZus{}un}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{1}\PYG{p}{:}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{1}\PYG{p}{:}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}

    \PYG{k}{def} \PYG{n+nf}{simplication\PYGZus{}multiplication\PYGZus{}par\PYGZus{}zero}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{0} \PYG{o+ow}{or} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{==}\PYG{l+m+mi}{0}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{Number}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
        
    \PYG{n}{liste\PYGZus{}simplification} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}de\PYGZus{}deux\PYGZus{}nombres}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}multiplication\PYGZus{}par\PYGZus{}un}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{simplication\PYGZus{}multiplication\PYGZus{}par\PYGZus{}zero}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}


\PYG{k}{class} \PYG{n+nc}{Div}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{priority} \PYG{o}{=} \PYG{l+m+mi}{2}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function}\PYG{o}{=}\PYG{n}{operator}\PYG{o}{.}\PYG{n}{truediv}
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{y}\PYG{p}{,} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{n}{x}\PYG{o}{/}\PYG{p}{(}\PYG{n}{y}\PYG{o}{*}\PYG{n}{y}\PYG{p}{)}\PYG{p}{)}

\PYG{k}{class} \PYG{n+nc}{Sub}\PYG{p}{(}\PYG{n}{BinaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{priority} \PYG{o}{=} \PYG{l+m+mf}{0.5}
    \PYG{n}{operator\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZhy{}}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function}\PYG{o}{=}\PYG{n}{operator}\PYG{o}{.}\PYG{n}{sub}
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{)}


\PYG{k}{class} \PYG{n+nc}{UnitaryOperator}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}    
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{parent\PYGZus{}priority}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{parent\PYGZus{}priority}\PYG{o}{\PYGZgt{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{priority}\PYG{p}{:}
            \PYG{n}{fmt\PYGZus{}str} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{fmt\PYGZus{}str} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}
        \PYG{k}{return} \PYG{n}{fmt\PYGZus{}str}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{unitary\PYGZus{}symbol}\PYG{p}{,} 
                              \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{priority}\PYG{p}{)}\PYG{p}{)}
            
\PYG{k}{class} \PYG{n+nc}{Neg}\PYG{p}{(}\PYG{n}{UnitaryOperator}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{priority} \PYG{o}{=} \PYG{l+m+mf}{0.5}
    \PYG{n}{unitary\PYGZus{}symbol} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZhy{}}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{operator}\PYG{o}{.}\PYG{n}{neg}
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{p}{)}
    
\PYG{k}{class} \PYG{n+nc}{MathFunction}\PYG{p}{(}\PYG{n}{Function}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def} \PYG{n+nf}{display}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{(}\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{function\PYGZus{}name}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{display}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}


\PYG{k}{class} \PYG{n+nc}{Sin}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}     
    \PYG{n}{function\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sin}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{math}\PYG{o}{.}\PYG{n}{sin}
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:}\PYG{n}{cos}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{,}\PYG{p}{)}


\PYG{k}{class} \PYG{n+nc}{Cos}\PYG{p}{(}\PYG{n}{MathFunction}\PYG{p}{)}\PYG{p}{:}     
    \PYG{n}{function\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{cos}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{math\PYGZus{}function} \PYG{o}{=} \PYG{n}{math}\PYG{o}{.}\PYG{n}{cos}
    \PYG{n}{partial\PYGZus{}derivative} \PYG{o}{=} \PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{n}{sin}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{p}{,}\PYG{p}{)}


\PYG{n}{sin} \PYG{o}{=} \PYG{n}{Sin}
\PYG{n}{cos} \PYG{o}{=} \PYG{n}{Cos}    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{x} \PYG{o}{=} \PYG{n}{Symbol}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{sin}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{o}{*}\PYG{n}{x}\PYG{p}{)}\PYG{o}{.}\PYG{n}{diff}\PYG{p}{(}\PYG{n}{x}\PYG{p}{)}\PYG{o}{.}\PYG{n}{simplify}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
2 * cos(2 * x)
\end{sphinxVerbatim}


\subsection{Utilisation de numpy}
\label{\detokenize{cours5_numpy_corr_exercices:utilisation-de-numpy}}\label{\detokenize{cours5_numpy_corr_exercices::doc}}

\subsubsection{Calcul Monte\sphinxhyphen{}Carlo de la surface d’un disque}
\label{\detokenize{cours5_numpy_corr_exercices:calcul-monte-carlo-de-la-surface-d-un-disque}}
\sphinxAtStartPar
On rappelle que la fonction np.random.rand permet de créer une distribution uniforme de points entre 0 et 1.
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Créer des tableaux X et Y de variables uniforméments réparties entre \sphinxhyphen{}1 et 1

\item {} 
\sphinxAtStartPar
Evaluer la probabilité que le point de coordonnées (x, y) soit dans le cercle unité ?

\item {} 
\sphinxAtStartPar
En déduire une estimation ed \(\pi\)

\item {} 
\sphinxAtStartPar
De la même façon, évaluer le volume d’une sphère en dimension 13

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{N} \PYG{o}{=} \PYG{l+m+mi}{1000000}

\PYG{n}{X} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{N}\PYG{p}{)}\PYG{o}{\PYGZhy{}}\PYG{o}{.}\PYG{l+m+mi}{5}\PYG{p}{)}
\PYG{n}{Y} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{N}\PYG{p}{)}\PYG{o}{\PYGZhy{}}\PYG{o}{.}\PYG{l+m+mi}{5}\PYG{p}{)}

\PYG{n}{R} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{X}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2} \PYG{o}{+} \PYG{n}{Y}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Estimation de pi}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{R}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{4}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Estimation de pi 3.143348
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{dim} \PYG{o}{=} \PYG{l+m+mi}{13}

\PYG{n}{X} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{*}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{dim}\PYG{p}{,} \PYG{n}{N}\PYG{p}{)}\PYG{o}{\PYGZhy{}}\PYG{o}{.}\PYG{l+m+mi}{5}\PYG{p}{)}

\PYG{n}{R} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sqrt}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{X}\PYG{o}{*}\PYG{o}{*}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{np}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{R}\PYG{o}{\PYGZlt{}}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
0.00011
\end{sphinxVerbatim}


\subsubsection{Calcul de la moyenne}
\label{\detokenize{cours5_numpy_corr_exercices:calcul-de-la-moyenne}}
\sphinxAtStartPar
Un tableau numpy contient les notes d’une classe. Chaque ligne correspond à un élève et chaque colone à un examen.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}

\PYG{n}{N\PYGZus{}eleves} \PYG{o}{=} \PYG{l+m+mi}{35}
\PYG{n}{N\PYGZus{}examens} \PYG{o}{=} \PYG{l+m+mi}{3}

\PYG{n}{notes} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{random}\PYG{o}{.}\PYG{n}{rand}\PYG{p}{(}\PYG{n}{N\PYGZus{}eleves}\PYG{p}{,} \PYG{n}{N\PYGZus{}examens}\PYG{p}{)}\PYG{o}{*}\PYG{l+m+mi}{20}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Calculer la moyenne de chaque élève. Calculer la moyenne pour chaque examen.

\item {} 
\sphinxAtStartPar
Calculer la moyenne de chaque élève, sachant que les coeficients pour les 3 examens sont de 1, 3 et 2.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{moyenne\PYGZus{}eleve} \PYG{o}{=} \PYG{n}{notes}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}
\PYG{n}{moyenne\PYGZus{}exams} \PYG{o}{=} \PYG{n}{notes}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}

\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Moyenne eleves : }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{moyenne\PYGZus{}eleve}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Moyenne exams : }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{moyenne\PYGZus{}exams}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Moyenne eleves : [ 4.86475764 13.87157763 16.63133782 12.54131626  7.78354896 14.91060888
 11.49341153  7.40491898  7.7408721  12.83294063  5.19142779  7.16174387
 11.72812901 16.37947513 13.78278386  9.49417344 14.78770611 10.32141726
  7.73516296 12.93635595 12.0172946   6.32059816 14.24920113  7.9846933
  9.34793038  4.97840815  0.93303272 11.61755392  4.74755408  6.75401493
  7.58238456 12.39258674 16.24376983  8.61322578  9.22967243]
Moyenne exams : [10.51405794 10.77392961  8.93534844]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{moyenne\PYGZus{}ponderee} \PYG{o}{=} \PYG{p}{(}\PYG{n}{notes}\PYG{o}{*}\PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}\PYG{p}{[}\PYG{n}{np}\PYG{o}{.}\PYG{n}{newaxis}\PYG{p}{,} \PYG{p}{:}\PYG{p}{]}\PYG{p}{)}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{6}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Moyenne eleves : }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{moyenne\PYGZus{}ponderee}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Moyenne eleves : [ 4.8469425  14.99684316 17.5957476  13.28084804  7.38128184 14.16213389
 10.37123986  5.34245749  7.19795841 14.43345158  6.1073791   5.54566383
 10.46290838 15.54873099 12.71400994  7.05525354 13.60650382 12.16244485
 10.58650973 14.71984854 13.36255598  4.45639921 14.35210974  9.04184847
 10.33807833  3.32534396  0.65691568 10.95163956  3.27687672  7.73253324
  8.73697947 12.65795077 16.75820541  8.44130762 11.91460335]
\end{sphinxVerbatim}


\subsection{Exercices sur les graphiques}
\label{\detokenize{cours7_graphiques_corr_exercices:exercices-sur-les-graphiques}}\label{\detokenize{cours7_graphiques_corr_exercices::doc}}

\subsubsection{Population}
\label{\detokenize{cours7_graphiques_corr_exercices:population}}
\sphinxAtStartPar
À partir de la page {[}https://fr.wikipedia.org/wiki/D\%C3\%A9mographie\_de\_l\%27Europe\}(https://fr.wikipedia.org/wiki/D\%C3\%A9mographie\_de\_l\%27Europe) et de la page \sphinxurl{https://en.wikipedia.org/wiki/Demographics\_of\_France} tracer sur un même graph la population du monde, de l’europe et de la france depuis 1800.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{europe\PYGZus{}annees} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1800}\PYG{p}{,} \PYG{l+m+mi}{1850}\PYG{p}{,} \PYG{l+m+mi}{1900}\PYG{p}{,} \PYG{l+m+mi}{1950}\PYG{p}{,} \PYG{l+m+mi}{1960}\PYG{p}{,} \PYG{l+m+mi}{1970}\PYG{p}{,} \PYG{l+m+mi}{1980}\PYG{p}{,} \PYG{l+m+mi}{1990}\PYG{p}{,} \PYG{l+m+mi}{2000}\PYG{p}{,} \PYG{l+m+mi}{2010}\PYG{p}{,} \PYG{l+m+mi}{2019}\PYG{p}{]}
\PYG{n}{europe\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{187000000} \PYG{p}{,} \PYG{l+m+mi}{266000000} \PYG{p}{,} \PYG{l+m+mi}{420000000} \PYG{p}{,} \PYG{l+m+mi}{549329000} \PYG{p}{,} \PYG{l+m+mi}{605407000} \PYG{p}{,} \PYG{l+m+mi}{656919000} \PYG{p}{,} \PYG{l+m+mi}{693567000} \PYG{p}{,} \PYG{l+m+mi}{720858000} \PYG{p}{,} \PYG{l+m+mi}{725558000} \PYG{p}{,} \PYG{l+m+mi}{736413000} \PYG{p}{,} \PYG{l+m+mi}{747183000}\PYG{p}{]}
\PYG{n}{monde\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{813000000}\PYG{p}{,} \PYG{l+m+mi}{1128000000}\PYG{p}{,} \PYG{l+m+mi}{1550000000}\PYG{p}{,} \PYG{l+m+mi}{2536431000} \PYG{p}{,} \PYG{l+m+mi}{3034950000} \PYG{p}{,} \PYG{l+m+mi}{3700437000} \PYG{p}{,} \PYG{l+m+mi}{4458004000} \PYG{p}{,} \PYG{l+m+mi}{5327231000} \PYG{p}{,} \PYG{l+m+mi}{6143494000} \PYG{p}{,} \PYG{l+m+mi}{6956824000} \PYG{p}{,} \PYG{l+m+mi}{7713468000} \PYG{p}{,} \PYG{p}{]}

\PYG{n}{france\PYGZus{}annees} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{1806}\PYG{p}{,} \PYG{l+m+mi}{1821}\PYG{p}{,} \PYG{l+m+mi}{1831}\PYG{p}{,} \PYG{l+m+mi}{1841}\PYG{p}{,} \PYG{l+m+mi}{1851}\PYG{p}{,} \PYG{l+m+mi}{1872}\PYG{p}{,} \PYG{l+m+mi}{1881}\PYG{p}{,} \PYG{l+m+mi}{1891}\PYG{p}{,} \PYG{l+m+mi}{1901}\PYG{p}{,} \PYG{l+m+mi}{1911}\PYG{p}{,} \PYG{l+m+mi}{1921}\PYG{p}{,} \PYG{l+m+mi}{1931}\PYG{p}{,} \PYG{l+m+mi}{1946}\PYG{p}{,} \PYG{l+m+mi}{1950}\PYG{p}{,} \PYG{l+m+mi}{1960}\PYG{p}{,} \PYG{l+m+mi}{1970}\PYG{p}{,} \PYG{l+m+mi}{1980}\PYG{p}{,} \PYG{l+m+mi}{1990}\PYG{p}{,} \PYG{l+m+mi}{2000}\PYG{p}{,} \PYG{l+m+mi}{2010}\PYG{p}{,} \PYG{l+m+mi}{2020}\PYG{p}{,} \PYG{l+m+mi}{2022}\PYG{p}{]}
\PYG{n}{france\PYGZus{}population} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{29107000}\PYG{p}{,} \PYG{l+m+mi}{30462000}\PYG{p}{,} \PYG{l+m+mi}{32569000}\PYG{p}{,} \PYG{l+m+mi}{34230000}\PYG{p}{,} \PYG{l+m+mi}{35783000}\PYG{p}{,} \PYG{l+m+mi}{36103000}\PYG{p}{,} \PYG{l+m+mi}{37672000}\PYG{p}{,} \PYG{l+m+mi}{38343000}\PYG{p}{,} \PYG{l+m+mi}{38962000}\PYG{p}{,} \PYG{l+m+mi}{39605000}\PYG{p}{,} \PYG{l+m+mi}{39108000}\PYG{p}{,} \PYG{l+m+mi}{41524000}\PYG{p}{,} \PYG{l+m+mi}{40125230}\PYG{p}{,} \PYG{l+m+mi}{41647258}\PYG{p}{,} \PYG{l+m+mi}{45464797}\PYG{p}{,} \PYG{l+m+mi}{50528219}\PYG{p}{,} \PYG{l+m+mi}{53731387}\PYG{p}{,} \PYG{l+m+mi}{56577000}\PYG{p}{,} \PYG{l+m+mi}{58858198}\PYG{p}{,} \PYG{l+m+mi}{62765235}\PYG{p}{,} \PYG{l+m+mi}{67287241}\PYG{p}{,} \PYG{l+m+mi}{67813396}\PYG{p}{]}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k+kn}{import} \PYG{n}{figure}

\PYG{n}{fig} \PYG{o}{=} \PYG{n}{figure}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{ax} \PYG{o}{=} \PYG{n}{fig}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}

\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{europe\PYGZus{}annees}\PYG{p}{,} \PYG{n}{monde\PYGZus{}population}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Monde}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{europe\PYGZus{}annees}\PYG{p}{,} \PYG{n}{europe\PYGZus{}population}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Europe}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{ax}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{france\PYGZus{}annees}\PYG{p}{,} \PYG{n}{france\PYGZus{}population}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{France}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{ax}\PYG{o}{.}\PYG{n}{set\PYGZus{}yscale}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{log}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{n}{which}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{both}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{ax}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7027be8c4fd0\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{f387c045c6a2bc1400c3509ad6df0a9def384825d8b321ce5a92cc0b17acc64f}.png}


\subsubsection{Statistiques sur le COVID\sphinxhyphen{}19}
\label{\detokenize{cours7_graphiques_corr_exercices:statistiques-sur-le-covid-19}}
\sphinxAtStartPar
Le fichier \sphinxcode{\sphinxupquote{data\_covid.dat}} contient trois colonnes : la première est la date, la seconde le nombre cumulé de décès en hôpital liés au COVID\sphinxhyphen{}19 et la troisième le nombre cumulé de décès en EHPAD liés au COVID\sphinxhyphen{}19.

\sphinxAtStartPar
Le fichier commence le lundi 2 mars 2020. C’est l’origine de nos dates (jour 0). Dans la suite, on entend par date ou numéro du jour le nombre de jours écoulés depuis le 2 mars 2020. Ce fichier a été extrait de la base de donnée en janvier 2021 (il ne comprend donc que la première et début de la deuxième vague).
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Lire ce fichier à l’aide de la commande loadtxt, et extraire les trois colonnes dans trois variables.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{numpy} \PYG{k+kn}{import} \PYG{o}{*}
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{plt}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{,} \PYG{n}{deces\PYGZus{}ehpad} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{loadtxt}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{data/data\PYGZus{}covid.dat}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{unpack}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Tracer le graphe du nombre de décès cumulé en hôpital et en EHPAD en fonction de la date.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hopital}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}ehpad}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ehpad}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{date}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7fb3f83444c0\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{5fa4be9c6a014ec6ae26070e210b766debae1e00f9759bf57359c82116eeed33}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Ajouter sur le même graph le nombre total de décés cumulé

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hopital}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}ehpad}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ehpad}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital} \PYG{o}{+} \PYG{n}{deces\PYGZus{}ehpad}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{total}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{date}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7fb3f5efac40\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{bd8f637bd1c3968f24fbb65c823c060c4aa823fed3def9921972301157701709}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{3}
\item {} 
\sphinxAtStartPar
Au cours des 30 premiers jours, le nombre cumulé de décès en hôpital suit une loi proche d’une exponentielle. Tracer cette courbe en échelle semi\sphinxhyphen{}logarithmique.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{semilogy}\PYG{p}{(}\PYG{n}{date}\PYG{p}{[}\PYG{p}{:}\PYG{l+m+mi}{30}\PYG{p}{]}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{[}\PYG{p}{:}\PYG{l+m+mi}{30}\PYG{p}{]}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{total}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{date}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7fb3f5ea84f0\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{673a5efaae812cc99776ccc0bf7b749bf07982087da2d8401881ad213247ba13}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{4}
\item {} 
\sphinxAtStartPar
Au cours de ces 30 premiers jours, le nombre de décès peut s’écrire \(N(j) = N_0(1+a)^{j-j_0}\). Tracer cette courbe avec les paramètres pour lesquels elle s’ajuste bien à l’œil. Quelle est la valeur de \(a\)? (Nous ne demandons pas dans cette question de faire un ajustement, mais simplement de superposer les deux courbes).

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{semilogy}\PYG{p}{(}\PYG{n}{date}\PYG{p}{[}\PYG{p}{:}\PYG{l+m+mi}{30}\PYG{p}{]}\PYG{p}{,} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{[}\PYG{p}{:}\PYG{l+m+mi}{30}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ok}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{total}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{N0} \PYG{o}{=} \PYG{l+m+mi}{200}
\PYG{n}{j0} \PYG{o}{=} \PYG{l+m+mi}{15}
\PYG{n}{a} \PYG{o}{=} \PYG{l+m+mf}{0.27}
\PYG{n}{j} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arange}\PYG{p}{(}\PYG{l+m+mi}{30}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{j}\PYG{p}{,} \PYG{n}{N0}\PYG{o}{*}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{o}{+}\PYG{n}{a}\PYG{p}{)}\PYG{o}{*}\PYG{o}{*}\PYG{p}{(}\PYG{n}{j}\PYG{o}{\PYGZhy{}}\PYG{n}{j0}\PYG{p}{)}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{fit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{date}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7fb3f5c84e20\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{db880c5017f5520fec65ac1d7718bb554649255525059875b48077a56b05f5a9}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{5}
\item {} 
\sphinxAtStartPar
Calculer le tableau du nombre quotidien de décès en hôpital et en EHPAD en fonction de la date. Et tracer la courbe pour l’hôpital. (Remarque, il est possible de faire cette opération sans boucle )

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital} \PYG{o}{=} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:}\PYG{p}{]} \PYG{o}{\PYGZhy{}} \PYG{n}{deces\PYGZus{}hopital}\PYG{p}{[}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}
\PYG{n}{date\PYGZus{}quot} \PYG{o}{=} \PYG{n}{date}\PYG{p}{[}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{date\PYGZus{}quot}\PYG{p}{,} \PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{,} \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{total}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{date}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZlt{}matplotlib.legend.Legend at 0x7fb3f5bb81c0\PYGZgt{}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{8b4661d287f8ebe1ec134491b2c9b0ccbb460e308211c82dcf4604ea562e90f9}.png}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{6}
\item {} 
\sphinxAtStartPar
Quel jour a connu le plus grand nombre de décès en hôpital ? (on utilisera la fonction \sphinxcode{\sphinxupquote{argmax}})

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{max}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{)}
\PYG{n}{argmax}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
34
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{7}
\item {} 
\sphinxAtStartPar
Combien de jours ont connu plus de 50 décés en EHPAD ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{np}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{o}{\PYGZgt{}}\PYG{o}{=}\PYG{l+m+mi}{50}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
186
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{8}
\item {} 
\sphinxAtStartPar
Comment extraire en une ligne le nombre de décés pour un jour de la semaine donné ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{np}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{p}{:}\PYG{l+m+mi}{7}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
8778.0
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{9}
\item {} 
\sphinxAtStartPar
Calculer et tracer le nombre total de décès en hôpital par jour de la semaine. Pour quel jour de la semaine enregistre\sphinxhyphen{}t\sphinxhyphen{}on le moins de décès ?

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{list\PYGZus{}result}\PYG{o}{=}\PYG{p}{[}\PYG{p}{]}

\PYG{k}{for} \PYG{n}{jour} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{l+m+mi}{7}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{res} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{sum}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{[}\PYG{n}{jour}\PYG{p}{:}\PYG{p}{:}\PYG{l+m+mi}{7}\PYG{p}{]}\PYG{p}{)}
    \PYG{n}{list\PYGZus{}result}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{res}\PYG{p}{)}
    
\PYG{n}{list\PYGZus{}result}    
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
[8778.0, 7444.0, 7209.0, 6957.0, 5220.0, 4245.0, 8454.0]
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital\PYGZus{}bis} \PYG{o}{=} \PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital}\PYG{p}{[}\PYG{p}{:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{3}\PYG{p}{]} \PYG{c+c1}{\PYGZsh{} multiple de 7}
\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital\PYGZus{}bis}\PYG{o}{.}\PYG{n}{reshape}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{deces\PYGZus{}quot\PYGZus{}hopital\PYGZus{}bis}\PYG{p}{)}\PYG{o}{/}\PYG{o}{/}\PYG{l+m+mi}{7}\PYG{p}{,} \PYG{l+m+mi}{7}\PYG{p}{)}\PYG{o}{.}\PYG{n}{mean}\PYG{p}{(}\PYG{n}{axis}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
array([187.17777778, 160.33333333, 153.93333333, 154.6       ,
       116.        ,  94.33333333, 187.86666667])
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{plot}\PYG{p}{(}\PYG{n}{list\PYGZus{}result}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{o\PYGZhy{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{plt}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{title}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Nombre total de décés par jour}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{xlabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{jour de la semaine}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{plt}\PYG{o}{.}\PYG{n}{ylabel}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deces}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
Text(0, 0.5, \PYGZsq{}deces\PYGZsq{})
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics{{28f827857476a5688172517f7a60c031d0b3f8899f18a981cf5227123c055bd4}.png}



\renewcommand{\indexname}{Index}
\printindex
\end{document}